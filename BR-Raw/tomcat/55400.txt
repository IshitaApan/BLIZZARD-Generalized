WsFilter not compatible with async sample applications

$ output/build/bin/catalina.sh run http://localhost:8080/examples/async/async0 java.lang.IllegalStateException: Not supported. 	org.apache.catalina.connector.Request.startAsync(Request.java:1621) 	org.apache.catalina.connector.Request.startAsync(Request.java:1614) 	org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1033) 	async.Async0.service(Async0.java:44) 	javax.servlet.http.HttpServlet.service(HttpServlet.java:728) 	org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:91) 	org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) I'm not sure if this filter supports Async or whether it should not be applied for these Servlets.