Session related errors prevent clean recycle of Request and Response objects by CoyoteAdapter

Created attachment 26521 Patch created against tomcat/tc6.0.x/trunk Session related errors prevent clean recycle of org.apache.catalina.connector.Request and org.apache.catalina.connector.Response objects by CoyoteAdapter. In org.apache.catalina.connector.Request.recycle() method, if an exception is thrown by session.endAccess() call, request object recycling aborts failing to cleanup fully and leaving the request object in inconsistent state. Further requests processed by CoyoteAdapter.service() using this inconsistent request object result in request being redirected to the last url that resulted in inconsistent request object which is still holding on to wrong session and contexts.