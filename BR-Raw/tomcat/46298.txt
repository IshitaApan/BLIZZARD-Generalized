JDBCRealm.open() throws NullPointerException if the specified driver doesn't handle the specified JDBC URL

Created attachment 22949 Check returned connection for null in JDBCRealm.open() Per the Driver.connect(String, Properties) docs: > The driver should return "null" if it realizes it is the wrong kind of driver to connect to the given URL. I ran into this when I fat-fingered the JDBC URL's prefix (jdbc:msql: instead of jdbc:mysql: with the MySQL driver). The offending code calls Driver.connect and immediately calls setAutoCommit(false) on the resulting driver without checking that the connect returned a connection. I've attached a patch based from TOMCAT_6_0_18 that addresses the issue.