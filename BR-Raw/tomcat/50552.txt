Ant Tasks give a null pointer exception when an error occurs, masking true error

Created attachment 26463 Fix to abstract catalina task class to set up redirector correctly Using the Ant List Task with outputproperty set causes a null pointer exception in the event of any error. For example, if tomcat is not running or the url given is incorrect. Since the bug is in a base class, this probably affects all the ant tasks. The bug is due to the fact that the code to clean up the redirector is called in the finally block, but the equivalent code to set it up is not. This problem is also present in Tomcat 6. The attached patch fixes the problem. With the patch in place, using the list task when tomcat is down gives "Connection refused" instead.