NPE in ViewRegistry.postConstruct()

My change for bug 388431 incorrectly assumed that ViewCategory.findCategory() never returns null, such as happens for an invalid category. !SESSION 2012-10-13 20:27:26.176 ----------------------------------------------- eclipse.buildId=M20121008-1100 java.version=1.7.0_07 java.vendor=Oracle Corporation BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US Command-line arguments: -os linux -ws gtk -arch x86_64 !ENTRY org.eclipse.ui 4 0 2012-10-13 20:27:31.161 !MESSAGE Unhandled event loop exception !STACK 0 org.eclipse.e4.core.di.InjectionException: java.lang.NullPointerException at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:63) at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:859) at org.eclipse.e4.core.internal.di.InjectorImpl.inject(InjectorImpl.java:111) at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:319) at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:240) at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:161) at org.eclipse.ui.internal.WorkbenchPlugin$4.compute(WorkbenchPlugin.java:1318) at org.eclipse.e4.core.internal.contexts.ValueComputation.get(ValueComputation.java:60) at org.eclipse.e4.core.internal.contexts.EclipseContext.internalGet(EclipseContext.java:229) at org.eclipse.e4.core.internal.contexts.EclipseContext.get(EclipseContext.java:200) at org.eclipse.ui.internal.WorkbenchPlugin.getViewRegistry(WorkbenchPlugin.java:666) at org.eclipse.ui.internal.Workbench.initializeE4Services(Workbench.java:1720) at org.eclipse.ui.internal.Workbench.init(Workbench.java:1405) at org.eclipse.ui.internal.Workbench.access$36(Workbench.java:1367) at org.eclipse.ui.internal.Workbench$57.run(Workbench.java:2512) Caused by: java.lang.NullPointerException at org.eclipse.ui.internal.registry.ViewRegistry.postConstruct(ViewRegistry.java:146) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) ... 14 more