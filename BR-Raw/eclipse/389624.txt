[E4AP] NPE during loading of workbench.xmi

Created attachment 221095 Test projects to confirm the bug When the workbenach.xmi is loaded, an NPE is thrown. Debugging the code reveals, that the NPE is caused, because the element (the Part that is to be shown) does not have a parent (eContainer), so element.getParent() returns null. This seems to be the case for all parts that are added through a fragment. I have created a simple testcase to confirm the issue. 1) Start the application with the testapp.product in de.emsw.gosa.product.testapp. 2) Close the application 3) Start the application again and DO NOT clean the configuration, so workbench.xmi gets loaded See: http://www.eclipse.org/forums/index.php/m/911441/#msg_911441 !ENTRY org.eclipse.e4.ui.workbench 4 0 2012-09-11 17:33:18.756 !MESSAGE Exception occurred while rendering: org.eclipse.e4.ui.model.application.ui.basic.impl.PartStackImpl@1a4c5b4 (elementId: testapp.stack.right, tags: [], contributorURI: platform:/plugin/de.emsw.gosa.product.testapp) (widget: CTabFolder {}, renderer: org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer@1e2161d, toBeRendered: true, onTop: false, visible: true, containerData: 10000, accessibilityPhrase: null) !STACK 0 java.lang.NullPointerException 	at org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer.showTab(LazyStackRenderer.java:156) 	at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.showTab(StackRenderer.java:1024) 	at org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer.postProcess(LazyStackRenderer.java:98) ...