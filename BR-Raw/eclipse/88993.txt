[Viewers] CCE in AbstractTreeViewer.indexForElement(..)

N20050324-0010 E.g. open CVS Repositories view and expand the HEAD of a CVS project. I guess the fix for bug 86958 introduced this problem. !ENTRY org.eclipse.ui 4 0 2005-03-24 15:17:38.600 !MESSAGE Failed to execute runnable (java.lang.ClassCastException: org.eclipse.swt.widgets.TreeItem) !STACK 0 org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.ClassCastException: org.eclipse.swt.widgets.TreeItem) at org.eclipse.swt.SWT.error(SWT.java:2850) at org.eclipse.swt.SWT.error(SWT.java:2773) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:121) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1538) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1502) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:338) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:151) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315) at org.eclipse.core.launcher.Main.basicRun(Main.java:268) at org.eclipse.core.launcher.Main.run(Main.java:942) at org.eclipse.core.launcher.Main.main(Main.java:926) Caused by: java.lang.ClassCastException: org.eclipse.swt.widgets.TreeItem at org.eclipse.jface.viewers.AbstractTreeViewer.indexForElement(AbstractTreeViewer.java:223) at org.eclipse.jface.viewers.AbstractTreeViewer.createAddedElement(AbstractTreeViewer.java:198) at org.eclipse.jface.viewers.AbstractTreeViewer.internalAdd(AbstractTreeViewer.java:171) at org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:124) at org.eclipse.ui.progress.DeferredTreeContentManager$3.runInUIThread(DeferredTreeContentManager.java:279) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118) ... 18 more Failed to execute runnable (java.lang.ClassCastException: org.eclipse.swt.widgets.TreeItem)