LegacyActionPersistence causing test failures on Linux with 1.5 VM

http://fullmoon.ottawa.ibm.com/eclipse/downloads/drops/I20060921-0010/testresults/html/org.eclipse.ui.tests_linux.gtk.x86_5.0.html We are failing our suites on the RedHat box with a 1.5 VM due to a failed asyncExec that is happening after shutdown. org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3407) at org.eclipse.swt.SWT.error(SWT.java:3330) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3180) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2882) at org.eclipse.ui.tests.harness.util.UITestCase.processEvents(UITestCase.java:222) at org.eclipse.ui.tests.dynamicplugins.DynamicTestCase.removeBundle(DynamicTestCase.java:234) at org.eclipse.ui.tests.dynamicplugins.DynamicTestCase.doTearDown(DynamicTestCase.java:61) at org.eclipse.ui.tests.harness.util.UITestCase.tearDown(UITestCase.java:203) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:327) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:201) at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3180) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2882) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131) at org.eclipse.test.UITestApplication.run(UITestApplication.java:58) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) at org.eclipse.core.launcher.Main.basicRun(Main.java:285) at org.eclipse.core.launcher.Main.run(Main.java:987) at org.eclipse.core.launcher.Main.main(Main.java:962) Caused by: java.lang.NullPointerException at org.eclipse.ui.internal.menus.LegacyActionPersistence.convertActionToHandler(LegacyActionPersistence.java:530) at org.eclipse.ui.internal.menus.LegacyActionPersistence.readActions(LegacyActionPersistence.java:908) at org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionsAndMenus(LegacyActionPersistence.java:974) at org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionSets(LegacyActionPersistence.java:1052) at org.eclipse.ui.internal.menus.LegacyActionPersistence.read(LegacyActionPersistence.java:838) at org.eclipse.ui.internal.services.RegistryPersistence$3.run(RegistryPersistence.java:598) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) ... 44 more