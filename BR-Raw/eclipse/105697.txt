[Undo] - OperationHistoryEvent - cannot distinguish between canceled event or failed event

The 3.1 OperationHistoryEvent API includes notification of OPERATION_NOT_OK which is sent whenever an operation does not complete with OK status. However, with this API, a client cannot distinguish between an operation that was cancelled and an operation that had some other non-OK status. This is problematic for the action handlers which prune the history whenever a non-OK operation occurs. The history should not be pruned when the user cancels an undo, and the action handlers must be able to tell the difference. See bug #101215 for a particular instance of this problem. It is reasonable that an observer who did not originate the undo or redo would want to decide whether to prune the history on a non-OK operation attempt. In 3.1, the status is only returned to the caller.