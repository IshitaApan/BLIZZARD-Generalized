[Progress] CCE caused by ProgressManager's 3.x workbench assumptions

Created attachment 129411 ProgressManager patch v1 This is a problem in the org.eclipse.ui.workbench code though it will only be exhibited if you run the compatibility demo. Not sure what the protocol is here (whether I'm supposed to complain to/file a bug against Platform/UI or e4/UI), but anyway... There is a CCE in ProgressManager though this may be hidden because the status handling code isn't working properly (it tries to log the CCE, then an NPE in the status handling code is thrown so the CCE isn't logged, yarrr ;)). The interesting bit of the stack trace is below... java.lang.ClassCastException: org.eclipse.ui.LegacyWBImpl 	at org.eclipse.ui.internal.progress.ProgressManager.getDefaultMonitor(ProgressManager.java:625) The isStarting() method was added to the IWorkbench interface as a result of bug 49316. Thus, the code in ProgressManager should be changed to call the API directly instead of casting to Workbench. I've taken the liberty to correct both the observed CCE in question as well as another place in the class where the same casting is done in attached patch.