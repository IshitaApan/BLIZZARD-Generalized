NPE thrown in CleanupAddon if no parent can be found

Just start your inner with no deltas file and you will see this. java.lang.NullPointerException 	at org.eclipse.e4.ui.workbench.addons.cleanupaddon.CleanupAddon$2.handleEvent(CleanupAddon.java:83) 	at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:41) 	at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:188) 	at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:198) 	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:227) 	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:149) 	at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:139) 	at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:78) 	at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:39) 	at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:73) 	at org.eclipse.e4.workbench.ui.internal.UIEventPublisher.notifyChanged(UIEventPublisher.java:58) 	at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:380) 	at org.eclipse.e4.ui.model.application.ui.basic.impl.PartImpl.setToBeRendered(PartImpl.java:544) 	at org.eclipse.ui.internal.e4.compatibility.ModeledPageLayout.createViewModel(ModeledPageLayout.java:252) 	at org.eclipse.ui.internal.e4.compatibility.ModeledPlaceholderFolderLayout.addPlaceholder(ModeledPlaceholderFolderLayout.java:33) 	at org.eclipse.jdt.internal.ui.JavaPerspectiveFactory.createInitialLayout(JavaPerspectiveFactory.java:60) 	at org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:2101) 	at org.eclipse.ui.internal.WorkbenchWindow.initializeDefaultServices(WorkbenchWindow.java:1739) 	at org.eclipse.ui.internal.WorkbenchWindow.setup(WorkbenchWindow.java:403) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:618) 	at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:42) 	at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:704) 	at org.eclipse.e4.core.internal.di.InjectorImpl.inject(InjectorImpl.java:85) 	at org.eclipse.e4.core.contexts.ContextInjectionFactory.inject(ContextInjectionFactory.java:72) 	at org.eclipse.ui.internal.Workbench.createWorkbenchWindow(Workbench.java:1114) 	at org.eclipse.ui.internal.Workbench.getActiveWorkbenchWindow(Workbench.java:1088) 	at org.eclipse.ui.internal.services.WorkbenchSourceProvider.updateActiveShell(WorkbenchSourceProvider.java:925) 	at org.eclipse.ui.internal.services.WorkbenchSourceProvider.getCurrentState(WorkbenchSourceProvider.java:133) 	at org.eclipse.ui.internal.services.WorkbenchSourceProvider$6.handleEvent(WorkbenchSourceProvider.java:685) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) 	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1253) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1051) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1076) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057) 	at org.eclipse.swt.widgets.Decorations.WM_ACTIVATE(Decorations.java:1635) 	at org.eclipse.swt.widgets.Shell.WM_ACTIVATE(Shell.java:2114) 	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4156) 	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341) 	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1598) 	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2038) 	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4873) 	at org.eclipse.swt.internal.win32.OS.BringWindowToTop(Native Method) 	at org.eclipse.swt.widgets.Decorations.bringToTop(Decorations.java:230) 	at org.eclipse.swt.widgets.Shell.open(Shell.java:1194) 	at org.eclipse.e4.workbench.ui.renderers.swt.WBWRenderer.postProcess(WBWRenderer.java:504) 	at org.eclipse.e4.ui.workbench.swt.internal.PartRenderingEngine.createGui(PartRenderingEngine.java:346) 	at org.eclipse.e4.ui.workbench.swt.internal.PartRenderingEngine.createGui(PartRenderingEngine.java:388) 	at org.eclipse.e4.ui.workbench.swt.internal.PartRenderingEngine$3.run(PartRenderingEngine.java:493) 	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) 	at org.eclipse.e4.ui.workbench.swt.internal.PartRenderingEngine.run(PartRenderingEngine.java:457) 	at org.eclipse.e4.workbench.ui.internal.E4Workbench.createAndRunUI(E4Workbench.java:102) 	at org.eclipse.ui.internal.Workbench$3.run(Workbench.java:534) 	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) 	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:520) 	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) 	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) 	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:618) 	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) 	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) 	at org.eclipse.equinox.launcher.Main.run(Main.java:1407) 	at org.eclipse.equinox.launcher.Main.main(Main.java:1383)