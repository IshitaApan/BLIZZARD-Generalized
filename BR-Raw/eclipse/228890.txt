[Commands] WidgetMethodHandler should not use obsolete Swing API any when possible

The class org.eclipse.ui.internal.handlers.WidgetMethodHandler uses some focus API from before JRE 1.4, namely javax.swing.FocusManager. The implementation of this class and the DefaultFocusManager have these javadoc comments: * This class has been obsoleted by the 1.4 focus APIs. While client code may * still use this class, developers are strongly encouraged to use * <code>java.awt.KeyboardFocusManager</code> and * <code>java.awt.DefaultKeyboardFocusManager</code> instead. Please see the * Focus Specification for more information. Additionally, the DefaultFocusManager installs an instance of LegacyGlueFocusTraversalPolicy, which causes endless recursions when other plugins use the JRE 1.4 focus APIs. We have seen such endless recursions in the context of the Eclipse Albireo project (http://wiki.eclipse.org/Albireo_Project): ... java.awt.ContainerOrderFocusTraversalPolicy.getLastComponent(ContainerOrderFocusTraversalPolicy.java:366) javax.swing.DefaultFocusManager.getLastComponent(DefaultFocusManager.java:119) javax.swing.LegacyGlueFocusTraversalPolicy.getLastComponent(LegacyGlueFocusTraversalPolicy.java:124) java.awt.ContainerOrderFocusTraversalPolicy.getLastComponent(ContainerOrderFocusTraversalPolicy.java:366) ... It would be better if Eclipse did not cause this LegacyGlueFocusTraversalPolicy to be installed. Patch attached.