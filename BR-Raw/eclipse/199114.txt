[Commands] SelectAllHandler sends invalid selection event to Combos

I20070807-0010 The SelectAllHandler sends an invalid selection event if Ctrl+A is pressed in an SWT Combo. Combos only send out selection events when a list item is selected, but not when the text selection changes (no event is sent in the latter case). Steps to reproduce (bug 127059): - new workspace - new Java project "MyProject" - select "MyProject" in Pkg Explorer - Ctrl+H - Enter - select "MyProject" in Pkg Explorer - Ctrl+H - arrow down - Ctrl+A -> wrong selection event is sent, which makes our listener believe it should restore the selected search parameters from the history: Thread [main] (Suspended (breakpoint at line 643 in JavaSearchPage))	 	JavaSearchPage.handlePatternSelected() line: 643	 	JavaSearchPage.access$9(JavaSearchPage) line: 642	 	JavaSearchPage$2.widgetSelected(SelectionEvent) line: 577	 	TypedListener.handleEvent(Event) line: 227	 	EventTable.sendEvent(Event) line: 66	 	Combo(Widget).sendEvent(Event) line: 938	 	Combo(Widget).sendEvent(int, Event, boolean) line: 962	 	Combo(Widget).sendEvent(int, Event) line: 947	 	Combo(Widget).notifyListeners(int, Event) line: 706	 	SelectAllHandler.execute(ExecutionEvent) line: 145	 	HandlerProxy.execute(ExecutionEvent) line: 239	 	Command.executeWithChecks(ExecutionEvent) line: 475	 	ParameterizedCommand.executeWithChecks(Object, Object) line: 429	 	HandlerService.executeCommand(ParameterizedCommand, Event) line: 165	 	WorkbenchKeyboard.executeCommand(Binding, Event) line: 470	 	WorkbenchKeyboard.press(List, Event) line: 821	 	WorkbenchKeyboard.processKeyEvent(List, Event) line: 879	 	WorkbenchKeyboard.filterKeySequenceBindings(Event) line: 568	 	WorkbenchKeyboard.access$3(WorkbenchKeyboard, Event) line: 510	 	WorkbenchKeyboard$KeyDownFilter.handleEvent(Event) line: 126	 	EventTable.sendEvent(Event) line: 66	 	Display.filterEvent(Event) line: 1144	 	Combo(Widget).sendEvent(Event) line: 937	 	Combo(Widget).sendEvent(int, Event, boolean) line: 962	 	Combo(Widget).sendEvent(int, Event) line: 947	 	Combo(Widget).sendKeyEvent(int, int, int, int, Event) line: 975	 	Combo.sendKeyEvent(int, int, int, int, Event) line: 1254	 	Combo(Widget).sendKeyEvent(int, int, int, int) line: 971	 	Combo(Widget).wmChar(int, int, int) line: 1285	 	Combo.wmChar(int, int, int) line: 2187	 	Combo.windowProc(int, int, int, int) line: 1972	 	Display.windowProc(int, int, int, int) line: 4377	 	OS.$$YJP$$DispatchMessageW(MSG) line: not available [native method]	 	OS.DispatchMessageW(MSG) line: not available	 	OS.DispatchMessage(MSG) line: 2283	 	Display.readAndDispatch() line: 3317	 	SearchDialog(Window).runEventLoop(Shell) line: 825	 	SearchDialog(Window).open() line: 801	 	OpenSearchDialogAction.run() line: 54	 	OpenSearchDialogAction.run(IAction) line: 45	 	ActionDelegateHandlerProxy.execute(ExecutionEvent) line: 271	 	Command.executeWithChecks(ExecutionEvent) line: 475	 	ParameterizedCommand.executeWithChecks(Object, Object) line: 429	 	HandlerService.executeCommand(ParameterizedCommand, Event) line: 165	 	WorkbenchKeyboard.executeCommand(Binding, Event) line: 470	 	WorkbenchKeyboard.press(List, Event) line: 821	 	WorkbenchKeyboard.processKeyEvent(List, Event) line: 879	 	WorkbenchKeyboard.filterKeySequenceBindings(Event) line: 568	 	WorkbenchKeyboard.access$3(WorkbenchKeyboard, Event) line: 510	 	WorkbenchKeyboard$KeyDownFilter.handleEvent(Event) line: 126	 	EventTable.sendEvent(Event) line: 66	 	Display.filterEvent(Event) line: 1144	 	StyledText(Widget).sendEvent(Event) line: 937	 	StyledText(Widget).sendEvent(int, Event, boolean) line: 962	 	StyledText(Widget).sendEvent(int, Event) line: 947	 	StyledText(Widget).sendKeyEvent(int, int, int, int, Event) line: 975	 	StyledText(Widget).sendKeyEvent(int, int, int, int) line: 971	 	StyledText(Widget).wmChar(int, int, int) line: 1285	 	StyledText(Control).WM_CHAR(int, int) line: 3772	 	StyledText(Control).windowProc(int, int, int, int) line: 3672	 	StyledText(Canvas).windowProc(int, int, int, int) line: 291	 	Display.windowProc(int, int, int, int) line: 4377	 	OS.$$YJP$$DispatchMessageW(MSG) line: not available [native method]	 	OS.DispatchMessageW(MSG) line: not available	 	OS.DispatchMessage(MSG) line: 2283	 	Display.readAndDispatch() line: 3317	 	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 2389	 	Workbench.runUI() line: 2353	 	Workbench.access$4(Workbench) line: 2219	 	Workbench$4.run() line: 466	 	Realm.runWithDefault(Realm, Runnable) line: 289	 	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 461	 	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 149	 	IDEApplication.start(IApplicationContext) line: 106	 	EclipseAppHandle.run(Object) line: 169	 	EclipseAppLauncher.runApplication(Object) line: 106	 	EclipseAppLauncher.start(Object) line: 76	 	EclipseStarter.run(Object) line: 363	 	EclipseStarter.run(String[], Runnable) line: 176	 	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]	 	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39	 	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25	 	Method.invoke(Object, Object...) line: 597	 	Main.invokeFramework(String[], URL[]) line: 508	 	Main.basicRun(String[]) line: 447	 	Main.run(String[]) line: 1173	 	Main.main(String[]) line: 1148