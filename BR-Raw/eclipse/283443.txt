Menu Issues I : ActionContributionItem: commands, handles, enablement

Created attachment 141547 Patch The two issues behind this bug: 1. Window -> Preferences menu is disabled 2. File -> Save menu enablement is not what it should be While investigating those issues it turned out that we don't create Commands and Handlers for the ActionContributionItem - which are programmatically added menu items such as Window -> Preferences. The other issue is the enablement of the command: the enablement of actions was: (1) never checked; and (2) not propagated to the E4 elements. To address (1) the patch adds menu listener that will update menus before they are about to show. For the (2), the patch only adds code to work with commands handled via LegacyHandlerWrapper. The method LegacyHandlerService.HandlerProxy#canExecute() will need more work in future to account for other types of handlers.