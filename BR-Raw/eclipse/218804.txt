[Commands] JDT UI tests fail due to leak

I20080211-0800. Code changes introduced a leak that lets our tests fail, see: http://download.eclipse.org/eclipse/downloads/drops/I20080212-0800/testresults/html/org.eclipse.jdt.ui.tests_linux.gtk.x86.html#LeakTestSuite The leak is brutal as every editor is leaked once its context menu has been opened. Expected: 0, actual: 1 Element 0 org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor org.eclipse.ui.internal.expressions.ActivePartExpression#activePart org.eclipse.ui.internal.menus.SlaveMenuService#restrictionExpression org.eclipse.ui.menus.CommandContributionItem#menuService java.util.HashMap$Entry#key java.util.HashMap$Entry[28] java.util.HashMap#table org.eclipse.ui.internal.menus.WorkbenchMenuService#activityListenersByItem org.eclipse.ui.internal.menus.WorkbenchMenuService$1#this$0 org.eclipse.core.internal.registry.ExtensionRegistry$ListenerInfo#listener java.lang.Object[11] org.eclipse.core.runtime.ListenerList#listeners org.eclipse.core.internal.registry.ExtensionRegistry#listeners org.eclipse.osgi.framework.internal.core.ServiceRegistrationImpl#service java.lang.Object[30] java.util.ArrayList#elementData org.eclipse.osgi.framework.internal.core.ServiceRegistryImpl#allPublishedServices org.eclipse.osgi.framework.internal.core.Framework#serviceRegistry org.eclipse.osgi.framework.internal.core.AbstractBundle#framework org.eclipse.osgi.framework.internal.core.BundleLoader#bundle org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader#delegate org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader junit.framework.AssertionFailedError: Expected: 0, actual: 1 Element 0 org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor org.eclipse.ui.internal.expressions.ActivePartExpression#activePart org.eclipse.ui.internal.menus.SlaveMenuService#restrictionExpression org.eclipse.ui.menus.CommandContributionItem#menuService java.util.HashMap$Entry#key java.util.HashMap$Entry[28] java.util.HashMap#table org.eclipse.ui.internal.menus.WorkbenchMenuService#activityListenersByItem org.eclipse.ui.internal.menus.WorkbenchMenuService$1#this$0 org.eclipse.core.internal.registry.ExtensionRegistry$ListenerInfo#listener java.lang.Object[11] org.eclipse.core.runtime.ListenerList#listeners org.eclipse.core.internal.registry.ExtensionRegistry#listeners org.eclipse.osgi.framework.internal.core.ServiceRegistrationImpl#service java.lang.Object[30] java.util.ArrayList#elementData org.eclipse.osgi.framework.internal.core.ServiceRegistryImpl#allPublishedServices org.eclipse.osgi.framework.internal.core.Framework#serviceRegistry org.eclipse.osgi.framework.internal.core.AbstractBundle#framework org.eclipse.osgi.framework.internal.core.BundleLoader#bundle org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader#delegate org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader