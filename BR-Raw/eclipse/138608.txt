[Viewers] JFace AbstractTreeViewer: itemExists doesn't handle equal tree entries

I use a TreeViewer with - setUseHashLookup(true) - without any sorter or filter - with a comparer When I try to add an object that is equal to an existing entry in the tree, it will not be added. This is because the method 	private boolean itemExists(Item[] items, Object element) { 		if(usingElementMap()) { 			return findItem(element) != null; 		} 		for (int i = 0; i < items.length; i++) { 			if(items[i].getData().equals(element)) { 				return true; 			} 		} 		return false; 	} takes a shortcut if there is an element map, but the shortcut doesn't handle the 'multiple equal elements' case. There is a workaround, however: Setting a dummy sorter will avoid the call to itemExists and multiple equal elements can be added to the tree.