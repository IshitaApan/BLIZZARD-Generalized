[Compatibility] Closing active perspective should set the window to the last active perspective

If you close the current perspective, the perspective that gets activated is the first perspective of the list in the perspective switcher. It should instead be using the perspective's activation order to pick the next perspective to activate.