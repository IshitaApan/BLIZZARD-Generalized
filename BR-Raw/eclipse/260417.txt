[Commands] Handler expressions ignored in multi page editors.

Created attachment 121976 Zipped up plugin project. Build ID: M20080911-1700 Steps To Reproduce: 1. Run eclipse workbench including attached plugin project. 2. From there create files "foo.see" and "foo.mee". 3. Open them - all being well foo.see opens in an editor, foo.mee uses the same editor wrapped in a multi-page editor. 4. Try executing the command by pressing m1+m2+p (i.e. ctrl+shift+p) in various places. 5. In the *.see case the key binding is only active when the right text area is active as desired. 6. In the multi-page editor, however, it is always active. If you debug then you will see that the expression is never invoked in this case. More information: I think expression are ignored completely when used in multi-page editors. I tried doing a similar using contexts with expressions (again in a multi page editor) and this *did* work. I suspect that the problem lies in NestableHandlerService.activate() which does this:- .activateHandler(commandId, handler, defaultExpression); ^^^^^^^^^^^^^^^^^ rather than, say, .activateHandler(commandId, handler, localActivation.getExpression()); The NestableContextService looks much simpler and appears to work, can NestableHandlerService not use a similar approach?