[Compatibility] NPE while Debug is trying to switch perspectives with a dead perspective around

I opened a workspace that seemed to have a perspective from another plug-in so it could not be rendered correctly. It was not the one I currently had opened and when I tried to debug something, Debug tried to switch perspectives for me but it failed with an NPE. Manually going 'Window > Open Perspective > Debug' worked though. java.lang.NullPointerException 	at org.eclipse.ui.internal.Workbench.activate(Workbench.java:2535) 	at org.eclipse.ui.internal.Workbench.showPerspective(Workbench.java:2563) 	at org.eclipse.ui.internal.Workbench.showPerspective(Workbench.java:2528) 	at org.eclipse.debug.internal.ui.launchConfigurations.PerspectiveManager.switchToPerspective(PerspectiveManager.java:316) 	at org.eclipse.debug.internal.ui.launchConfigurations.PerspectiveManager$4.runInUIThread(PerspectiveManager.java:395) 	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)