TagRule logic produces oversized tag partitions.

Consider revising the logic for the new TagRule which appeared in response to bug 51215. Perhaps the TagRule should really be written so as to end the tag not with the last '>' before the next '<' but with the first '>' which does not occur inside quotes after a '<'. Given the current TagRule implementation and with the fix to bug 63558 a snippet such as the following is treated as a single malformed tag and is left unformatted: <echo file="foo"> &lt;html>&lt;body>&lt;pre>${compilelog}&lt;/pre>&lt;/body>&lt;/html> With the proposed change to TagRule a snippet in the form: <echo file="foo" attribute="two" attribute="three"> &lt;html>&lt;body>&lt;pre>${compilelog}&lt;/pre>&lt;/body>&lt;/html> could be formatted like: <echo file="foo" attribute="two" attribute="three"> &lt;html>&lt;body>&lt;pre>${compilelog}&lt;/pre>&lt;/body>&lt;/html> or <echo file="foo" attribute="two" attribute="three"> &lt;html>&lt;body>&lt;pre>${compilelog}&lt;/pre>&lt;/body>&lt;/html> since the tag partition would terminate normally at "three"> instead of at /html>.