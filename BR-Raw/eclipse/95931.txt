[WorkingSets]  Workingset updater loads classes on shutdown

N20050519-0010 I was testing fast exit/restart of my workspace. I was starting it, and as soon as it came up I was exiting it. After several iterations, the following was written to the .log: !ENTRY org.eclipse.ui 4 4 2005-05-19 14:52:51.554 !MESSAGE Unable to create element factory. !ENTRY org.eclipse.core.runtime 4 1 2005-05-19 14:52:51.554 !MESSAGE Plug-in org.eclipse.jdt.ui was unable to load class org.eclipse.jdt.internal.ui.PersistableJavaElementFactory. !STACK 0 java.lang.ClassNotFoundException: org.eclipse.jdt.internal.ui.PersistableJavaElementFactory 	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:403) 	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:350) 	at org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass(AbstractClassLoader.java:74) 	at java.lang.ClassLoader.loadClass(ClassLoader.java:235) 	at org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:275) 	at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227) 	at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1259) 	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:152) 	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:142) 	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:129) 	at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:48) 	at org.eclipse.ui.internal.WorkbenchPlugin$1.run(WorkbenchPlugin.java:240) 	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:51) 	at org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:236) 	at org.eclipse.ui.internal.WorkbenchPlugin.getElementFactory(WorkbenchPlugin.java:347) 	at org.eclipse.ui.internal.Workbench.getElementFactory(Workbench.java:2151) 	at org.eclipse.ui.internal.WorkingSet.restoreWorkingSet(WorkingSet.java:228) 	at org.eclipse.ui.internal.WorkingSet.getElementsArray(WorkingSet.java:142) 	at org.eclipse.ui.internal.WorkingSet.getElements(WorkingSet.java:130) 	at org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.checkElementExistence(JavaWorkingSetUpdater.java:197) 	at org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.add(JavaWorkingSetUpdater.java:78) 	at org.eclipse.ui.internal.AbstractWorkingSetManager.bundleChanged(AbstractWorkingSetManager.java:491) 	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:1205) 	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:188) 	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:290) !ENTRY org.eclipse.ui 4 4 2005-05-19 14:52:51.564 !MESSAGE Unable to restore working set item - cannot instantiate factory: org.eclipse.jdt.ui.PersistableJavaElementFactory !SESSION 2005-05-19 14:53:00.247 ----------------------------------------------- eclipse.buildId=N20050519-0010 java.version=1.4.2_04 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Framework arguments: -showlocation -keyring d:\eclipse\.keyring Command-line arguments: -os win32 -ws win32 -arch x86 -showlocation -data d:\eclipse\workspace\plugins -debug d:\eclipse\.options -keyring d:\eclipse\.keyring -consoleLog -console !ENTRY org.eclipse.core.resources 2 10035 2005-05-19 14:53:03.31 !MESSAGE A workspace crash was detected. The previous session did not exit normally.