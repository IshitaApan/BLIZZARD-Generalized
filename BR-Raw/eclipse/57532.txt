IllegalStateException disposing theme manager

build I20040330 + latest from head - ran the StartupTest suite - on shutdown, I got the following. The problem is that it is trying to access the Workbench during a disposeExec, but the Workbench has already been shut down by the time the Display is disposed. Recommend calling the theme manager's dispose directly from within Workbench.shutdown rather than using a disposeExec. !ENTRY org.eclipse.osgi Apr 05, 2004 23:23:21.494 !MESSAGE Application error !STACK 1 java.lang.IllegalStateException: Workbench has not been created yet. 	at org.eclipse.ui.PlatformUI.getWorkbench(PlatformUI.java:91) 	at org.eclipse.ui.internal.WorkbenchPlugin.getWorkbench(WorkbenchPlugin.java:437) 	at org.eclipse.ui.internal.themes.Theme.dispose(Theme.java:223) 	at org.eclipse.ui.internal.themes.WorkbenchThemeManager.dispose(WorkbenchThemeManager.java:70) 	at org.eclipse.ui.internal.themes.WorkbenchThemeManager$2.run(WorkbenchThemeManager.java:46) 	at org.eclipse.swt.widgets.Display.release(Display.java:2321) 	at org.eclipse.swt.graphics.Device.dispose(Device.java:226) 	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:99) 	at org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:34) 	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:241) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:324) 	at org.eclipse.core.launcher.Main.basicRun(Main.java:267) 	at org.eclipse.core.launcher.Main.run(Main.java:692) 	at org.eclipse.core.launcher.Main.main(Main.java:676)