[PropertiesDialog] property page not showing up

20060828 I changed the jdt.ui property pages to use enablement instead of object contributions. However, the following enablement doesn't seem to work: <enabledWhen> <or> <adapt type="org.eclipse.core.resources.IProject"> <test property="org.eclipse.core.resources.projectNature" value="org.eclipse.jdt.core.javanature"/> </adapt> <and> <instanceof value="org.eclipse.jdt.core.IPackageFragmentRoot"/> <not> <test property="org.eclipse.jdt.core.inSourceFolder"/> </not> </and> </or> </enabledWhen> The page is supposed to be added to all projects with Java nature and all IPackageFragmentRoots that are not source folders. The page never shows up under a IProject. Debugging into it it seems that PropertyPagesRegistryReader.getObjectClassesFromEnablement(IConfigurationElement) tries to find out for waht object this is contributed. Not easy here with the or-ed condition.