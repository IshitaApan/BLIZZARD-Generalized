[WorkbenchLauncher] WorkenchWindowAdvisor.postWindowRestore invoked in non-UI thread

Build ID: 3.3.1.1 M20071023-1652 Steps To Reproduce: 1. Create a sample RCP application 2. Override postWindowRestore in WorkbenchWindowAdvisor 3. Call PlatformUI.getWorkbench().getActiveWorkbenchWindow() More information: Are there any changes since eclipse 3.2.2 related to when WorkbenchWindowAdvisor.postWindowRestore is invoked? In 3.2.2, I see that this method is invoked in the UI thread, but in 3.3.1.1, it is invoked in a non UI thread. In my application I get the active workbench here by calling PlatformUI.getWorkbench().getActiveWorkbenchWindow(). This returns null in 3.3.1.1, because Display.getCurrent() returns null. In the debugger, I could see that this method was invoked in a non-UI thread. Paul Webster wrote: > Please open a bug with Platform UI, there were changes made to the > startup sequence in 3.3.x > > PW > >