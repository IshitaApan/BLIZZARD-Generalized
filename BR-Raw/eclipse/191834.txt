[JFace] class PopupDialog cannot be loaded in a non-UI thread

After bug 142299 has been fixed (thanks!) the very same problem has been newly introduced in class PopupDialog (I'm in 3.3RC3). Offending initializations are private static final GridDataFactory LAYOUTDATA_GRAB_BOTH = GridDataFactory.fillDefaults().grab(true,true); and private static final GridLayoutFactory POPUP_LAYOUT_FACTORY = GridLayoutFactory .fillDefaults().margins(POPUP_MARGINWIDTH, POPUP_MARGINHEIGHT) .spacing(POPUP_HORIZONTALSPACING, POPUP_VERTICALSPACING); These have been in introduced in PopupDialog v1.26 in response to bug 156790. This causes the following exception: java.lang.IllegalArgumentException: Argument cannot be null at org.eclipse.swt.SWT.error(SWT.java:3547) at org.eclipse.swt.SWT.error(SWT.java:3481) at org.eclipse.swt.SWT.error(SWT.java:3452) at org.eclipse.swt.graphics.GC.<init>(GC.java:141) at org.eclipse.swt.graphics.GC.<init>(GC.java:111) at org.eclipse.jface.layout.LayoutConstants.initializeConstants(LayoutConstants.java:36) at org.eclipse.jface.layout.LayoutConstants.getSpacing(LayoutConstants.java:67) at org.eclipse.jface.layout.GridLayoutFactory.fillDefaults(GridLayoutFactory.java:128) at org.eclipse.jface.dialogs.PopupDialog.<clinit>(PopupDialog.java:211) Could you PLEASE use some kind of lazy initialization for these fields??