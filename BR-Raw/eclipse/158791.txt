[EditorMgmt] NPE in NavigationHistoryAction.update

I20060926-0935 1. open a comparison (Open In Compare Editor) in Team Synchronizing perspective 2. close it ==> NPE Probably caused when fixing bug 154431. !SESSION 2006-09-26 17:31:25.309 ----------------------------------------------- eclipse.buildId=I20060926-0935 java.version=1.5.0_06 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH Framework arguments: -update -keyring c:\eclipse\.keyring -application org.eclipse.ui.ide.workbench -showlocation Command-line arguments: -update -keyring c:\eclipse\.keyring -application org.eclipse.ui.ide.workbench -showlocation -data c:\eclipse\workspaces\Development_3_3\plugins !ENTRY org.eclipse.ui.workbench 4 2 2006-09-26 17:58:18.701 !MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.ui.workbench". !STACK 0 java.lang.NullPointerException 	at org.eclipse.ui.internal.NavigationHistoryAction.update(NavigationHistoryAction.java:231) 	at org.eclipse.ui.internal.NavigationHistory.updateActions(NavigationHistory.java:377) 	at org.eclipse.ui.internal.NavigationHistory.access$2(NavigationHistory.java:375) 	at org.eclipse.ui.internal.NavigationHistory$1.partClosed(NavigationHistory.java:87) 	at org.eclipse.ui.internal.PartListenerList2$3.run(PartListenerList2.java:98) 	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) 	at org.eclipse.core.runtime.Platform.run(Platform.java:850) 	at org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:53) 	at org.eclipse.ui.internal.PartListenerList2.firePartClosed(PartListenerList2.java:96) 	at org.eclipse.ui.internal.PartService.firePartClosed(PartService.java:103) 	at org.eclipse.ui.internal.WorkbenchPagePartList.firePartClosed(WorkbenchPagePartList.java:38) 	at org.eclipse.ui.internal.PartList.partClosed(PartList.java:255) 	at org.eclipse.ui.internal.PartList.removePart(PartList.java:176) 	at org.eclipse.ui.internal.WorkbenchPage.disposePart(WorkbenchPage.java:1532) 	at org.eclipse.ui.internal.WorkbenchPage.handleDeferredEvents(WorkbenchPage.java:1308) 	at org.eclipse.ui.internal.WorkbenchPage.deferUpdates(WorkbenchPage.java:1292) 	at org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java:1266) 	at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1321) 	at org.eclipse.ui.internal.EditorPane.doHide(EditorPane.java:54) 	at org.eclipse.ui.internal.PartStack.close(PartStack.java:502) 	at org.eclipse.ui.internal.EditorStack.close(EditorStack.java:205) 	at org.eclipse.ui.internal.PartStack$1.close(PartStack.java:109) 	at org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:81) 	at org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267) 	at org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276) 	at org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1) 	at org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$1.closeButtonPressed(DefaultTabFolder.java:67) 	at org.eclipse.ui.internal.presentations.PaneFolder.notifyCloseListeners(PaneFolder.java:580) 	at org.eclipse.ui.internal.presentations.PaneFolder$3.close(PaneFolder.java:187) 	at org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:2107) 	at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:292) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) 	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3401) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3020) 	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) 	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) 	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) 	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) 	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) 	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) 	at org.eclipse.core.launcher.Main.basicRun(Main.java:285) 	at org.eclipse.core.launcher.Main.run(Main.java:987) 	at org.eclipse.core.launcher.Main.main(Main.java:962)