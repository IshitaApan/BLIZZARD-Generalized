[Undo] Cause of error not reported on undo

Build: I20061031-0656 1) In the Navigator, delete a file 2) In the file system, recreate that file 3) Back in the Navigator, try to undo the deletion. -> Error occurs as expected, but the cause of the exception isn't surfaced in the dialog. I see Error while undoing the "Delete Resources" operation. Reason: Error while undoing the "Delete Resources" operation. Details: Error while undoing the "Delete Resources" operation. The duplication of the "reason" is caused by passing the exception message along with the exception to ErrorDialog.openError. If you don't have a different message, just pass null as the message and ErrorDialog won't show the reason section. However, the underlying problem is that the CoreException behind the failure isn't shown at all. In the log file I see: Caused by: org.eclipse.core.runtime.CoreException: A resource already exists on disk 'C:\eclipse\test3\aa\a\a.txt'. This is the message that should be appearing in either the reason or details section.