Rename on collapsing a tree gives confusing error

If you rename a file inline and then collapse it's parent you get an error message that says Assertion failed; Destination should not be under resource's hierarchy.. First of all the ; should be a : and there should only be one period. Secondly this is not consistent behaviour. If you hit return the rename happens without a problem. STEPS 1) Open a folder or file with a parent 2) Select rename 3) Collapse the parent