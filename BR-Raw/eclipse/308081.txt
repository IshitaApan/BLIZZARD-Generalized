[Forms] Image not displayed in disabled ImageHyperlink

Created attachment 163811 Sample Eclipse source project showing this bug This bug relates to class org.eclipse.ui.forms.widgets.ImageHyperlink. If method setImage is called before disabling a parent of an instance of this class, then the disabled image doesn't get computed nor displayed. I've created a small example based on the Sample Command example. To reproduce the bug, install this plugin in Eclipse (see attachment). When the sample command is run, a dialog pops up containing two image hyperlinks, one being displayed and the other not. The bug is located around the three method calls in class imagehyperlinktest.handlers.BugDialog : 	hyperlink1.setImage(image); 	formBody.setEnabled(false); 	hyperlink2.setImage(image); The first call to setImage doesn't compute a disabled image, while the other does. Consequently, the disabled image for the first hyperlink is not displayed, while the second is. A workaround for this bug is to always disable an ImageHyperlink before setting its image, and then to restore its initial enablement like: 	final boolean wasEnabled = hyperlink.getEnabled(); 	hyperlink.setEnabled(false); 	hyperlink.setImage(image); 	hyperlink.setEnabled(wasEnabled);