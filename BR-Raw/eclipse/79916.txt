[Viewers] isDisposed check needed in AbstractTreeViewer#internalRemove

Bug 78951 has the following stack trace. I have been unable to reproduce but it is failing on a getExpanded on a parent item. It is possible that the paent was one of the elements passed and was disposed. The removal code handles this but the "appending dummy" portion doesn't. Here's the trace. I will attach a patch. !ENTRY org.eclipse.ui 4 0 2004-11-24 11:39:30.125 !MESSAGE Widget is disposed !STACK 0 org.eclipse.swt.SWTException: Widget is disposed 	at org.eclipse.swt.SWT.error(SWT.java:2767) 	at org.eclipse.swt.SWT.error(SWT.java:2692) 	at org.eclipse.swt.SWT.error(SWT.java:2663) 	at org.eclipse.swt.widgets.Widget.error(Widget.java:388) 	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:290) 	at org.eclipse.swt.widgets.TreeItem.getExpanded(TreeItem.java:319) 	at org.eclipse.jface.viewers.TreeViewer.getExpanded (TreeViewer.java:154) 	at org.eclipse.jface.viewers.AbstractTreeViewer.internalRemove (AbstractTreeViewer.java:1138) 	at org.eclipse.jface.viewers.AbstractTreeViewer.access$1 (AbstractTreeViewer.java:1115) 	at org.eclipse.jface.viewers.AbstractTreeViewer$6.run (AbstractTreeViewer.java:1240) 	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection (StructuredViewer.java:1064) 	at org.eclipse.jface.viewers.AbstractTreeViewer.remove (AbstractTreeViewer.java:1238) 	at org.eclipse.team.internal.ui.synchronize.AbstractSynchronizeModelProvider.doRem ove(AbstractSynchronizeModelProvider.java:871) 	at org.eclipse.team.internal.ui.synchronize.AbstractSynchronizeModelProvider.remov eFromViewer(AbstractSynchronizeModelProvider.java:761) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider.removeFromVie wer(SynchronizeModelProvider.java:132) 	at org.eclipse.team.internal.ui.synchronize.CompressedFoldersModelProvider.handleR esourceRemovals(CompressedFoldersModelProvider.java:288) 	at org.eclipse.team.internal.ui.synchronize.AbstractSynchronizeModelProvider.handl eChanges(AbstractSynchronizeModelProvider.java:654) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider.handleChanges (SynchronizeModelProvider.java:188) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelUpdateHandler$3.run (SynchronizeModelUpdateHandler.java:514) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelUpdateHandler.internal RunViewUpdate(SynchronizeModelUpdateHandler.java:587) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelUpdateHandler.access$1 (SynchronizeModelUpdateHandler.java:575) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelUpdateHandler$5.run (SynchronizeModelUpdateHandler.java:554) 	at org.eclipse.swt.custom.BusyIndicator.showWhile (BusyIndicator.java:69) 	at org.eclipse.team.internal.ui.synchronize.SynchronizeModelUpdateHandler$4.run (SynchronizeModelUpdateHandler.java:552) 	at org.eclipse.ui.internal.UILockListener.doPendingWork (UILockListener.java:145) 	at org.eclipse.ui.internal.UISynchronizer$1.run(UISynchronizer.java:36) 	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) 	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java:118) 	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2780) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2451) 	at org.eclipse.jface.window.Window.runEventLoop(Window.java:718) 	at org.eclipse.jface.window.Window.open(Window.java:696) 	at org.eclipse.team.internal.ui.actions.ConfigureProjectAction$1.run (ConfigureProjectAction.java:55) 	at org.eclipse.team.internal.ui.actions.TeamAction$1.run (TeamAction.java:193) 	at org.eclipse.swt.custom.BusyIndicator.showWhile (BusyIndicator.java:69) 	at org.eclipse.team.internal.ui.actions.TeamAction.run (TeamAction.java:190) 	at org.eclipse.team.internal.ui.actions.ConfigureProjectAction.run (ConfigureProjectAction.java:60) 	at org.eclipse.ui.actions.ActionDelegate.runWithEvent (ActionDelegate.java:70) 	at org.eclipse.ui.internal.PluginAction.runWithEvent (PluginAction.java:288) 	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:555) 	at org.eclipse.jface.action.ActionContributionItem.access$2 (ActionContributionItem.java:505) 	at org.eclipse.jface.action.ActionContributionItem$6.handleEvent (ActionContributionItem.java:419) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:814) 	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2803) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448) 	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1579) 	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1550) 	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:282) 	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144) 	at org.eclipse.ui.internal.ide.IDEApplication.run (IDEApplication.java:102) 	at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:220) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:273) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:129) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:85) 	at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:58) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:60) 	at java.lang.reflect.Method.invoke(Method.java:391) 	at org.eclipse.core.launcher.Main.basicRun(Main.java:185) 	at org.eclipse.core.launcher.Main.run(Main.java:710) 	at org.eclipse.core.launcher.Main.main(Main.java:694)