[Contributions] Unable to invoke contributed popup menu items - exception in log

Created attachment 97539 contextmenu.log Using eclipse-SDK-I20080422-0800-win32 1. Add the following to a plugin.xml <extension point="org.eclipse.ui.menus"> <menuContribution locationURI="popup:#TextEditorContext?before=additions"> <menu id="mySubMenu" label="MySubMenu"> <command commandId="org.eclipse.ui.help.aboutAction" style="push"> </command> </menu> </menuContribution> <menuContribution locationURI="popup:org.eclipse.jdt.ui.PackageExplorer?before=additions"> <menu id="mySubMenu" label="MySubMenu"> <command commandId="org.eclipse.ui.help.aboutAction" style="push"> </command> </menu> </menuContribution> </extension> 2. Try to invoke the MySubMenu->About action in the Text Editor popup menu or Package Explorer popup menu 3. The menu item does not work and you get the attached exception in the log. This worked fine in Eclipse 3.4M6a. I think it might have to do with the fix for bug 224682. It looks like dispose is being called on the contribution items but then the menu manager will attempt to use the disposed contribution items.