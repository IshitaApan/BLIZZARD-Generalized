[CommonNavigator] Associated editor does not close when deleting resource (editorInput) through CommonNavigator

Build Identifier: 20090619-0625 Yes, the delete is working, but then it's trying to get the parent of the deleted element to (I think) help set the selection, and it's having trouble there in evaluating the possibleChildren expression associated with the deleted resource. In evaluating this expression there is a test for the content type which is blowing out with an exception because the resource is gone. I suppose this is possible in the standard org.eclipse.ui.navigator.resources configuration, but then I would expect it to happen all the time. The above was mentioned in this forum post: http://www.eclipse.org/forums/index.php?t=rview&goto=514195#msg_514195 org.eclipse.core.internal.resources.ResourceException: Resource '/LISA_STP16_WED_090714174529/Copy (5) of test1.plan' does not exist. 	at org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:319) 	at org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:196) 	at org.eclipse.core.internal.resources.File.getContentDescription(File.java:267) 	at org.eclipse.core.internal.propertytester.FilePropertyTester.testContentType(FilePropertyTester.java:67) 	at org.eclipse.core.internal.propertytester.FilePropertyTester.test(FilePropertyTester.java:43) 	at org.eclipse.core.internal.expressions.Property.test(Property.java:58) 	at org.eclipse.core.internal.expressions.TestExpression.evaluate(TestExpression.java:99) 	at org.eclipse.core.internal.expressions.CompositeExpression.evaluateAnd(CompositeExpression.java:53) 	at org.eclipse.core.internal.expressions.AdaptExpression.evaluate(AdaptExpression.java:91) 	at org.eclipse.ui.internal.navigator.CustomAndExpression.evaluate(CustomAndExpression.java:70) 	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptor.isPossibleChild(NavigatorContentDescriptor.java:384) 	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptorManager.findDescriptors(NavigatorContentDescriptorManager.java:217) 	at org.eclipse.ui.internal.navigator.extensions.NavigatorContentDescriptorManager.findDescriptorsForPossibleChild(NavigatorContentDescriptorManager.java:187) 	at org.eclipse.ui.internal.navigator.NavigatorContentService.findDescriptorsWithPossibleChild(NavigatorContentService.java:847) 	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.findParents(NavigatorContentServiceContentProvider.java:784) 	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.findPaths(NavigatorContentServiceContentProvider.java:758) 	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.getParents(NavigatorContentServiceContentProvider.java:640) 	at org.eclipse.jface.viewers.AbstractTreeViewer.getParentElement(AbstractTreeViewer.java:1643) 	at org.eclipse.jface.viewers.TreeViewer.getParentElement(TreeViewer.java:606) 	at org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:1580) 	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2470) 	at org.eclipse.ui.navigator.CommonViewer.setSelectionToWidget(CommonViewer.java:451) 	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2900) 	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1399) 	at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:402) 	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1353) 	at org.eclipse.jface.viewers.AbstractTreeViewer.remove(AbstractTreeViewer.java:2155) 	at org.eclipse.ui.navigator.CommonViewer.remove(CommonViewer.java:328) 	at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$2.run(ResourceExtensionContentProvider.java:270) 	at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.runUpdates(ResourceExtensionContentProvider.java:306) 	at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.access$1(ResourceExtensionContentProvider.java:303) 	at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$1.run(ResourceExtensionContentProvider.java:129) 	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) 	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) 	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3855) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3476) 	at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:173) 	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:388) 	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:330) 	at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish(RefactoringWizard.java:557) 	at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:153) 	at org.eclipse.ltk.ui.refactoring.resource.DeleteResourcesWizard$DeleteResourcesRefactoringConfigurationPage.performFinish(DeleteResourcesWizard.java:151) 	at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:621) 	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.okPressed(RefactoringWizardDialog2.java:453) 	at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:472) 	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) 	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) 	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) 	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) 	at org.eclipse.jface.window.Window.open(Window.java:801) 	at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:143) 	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) 	at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:155) 	at org.eclipse.ltk.internal.ui.refactoring.actions.DeleteResourcesHandler.execute(DeleteResourcesHandler.java:40) 	at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:294) 	at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) 	at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) 	at org.eclipse.ui.internal.handlers.HandlerService.executeCommandInContext(HandlerService.java:270) 	at org.eclipse.ui.internal.ide.actions.LTKLauncher.runCommand(LTKLauncher.java:95) 	at org.eclipse.ui.internal.ide.actions.LTKLauncher.openDeleteWizard(LTKLauncher.java:47) 	at org.eclipse.ui.actions.DeleteResourceAction.run(DeleteResourceAction.java:481) 	at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:168) 	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) 	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) 	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) 	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) 	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) 	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) 	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) 	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) 	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) 	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) 	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) Reproducible: Always Steps to Reproduce: Please take a look at the plugin.xml file: <?xml version="1.0" encoding="UTF-8"?> <?eclipse version="3.0"?> <plugin> <extension point="some.custom.common.ClassRegistry"> <lookup class="my.custom.plugin.plan.editor.timeline.policies.TemporalNodeDecoratorTextEditPolicy$Provider"> <implementation class="my.package.plan.editor.timeline.NamePriorityProvider"> </implementation> </lookup> <lookup class="some.custom.core.plan.formula.js.ScriptablePlanContributorDelegate"> <implementation class="some.custom.core.plan.resources.ResourceProfileScriptablePlanDelegate"> </implementation> </lookup> </extension> <extension point="some.custom.common.ICustomPluginTest"> <ICustomPluginTest class="my.package.rcp.AllTests"> </ICustomPluginTest> </extension> <extension point="some.custom.common.MissionExtension"> 		<MissionExtension MissionIndependentClass="some.custom.core.plan.PlanFactory" MissionSpecificClass="my.package.plan.ProgramPlanFactory" id="ProgramPlanFactory"/> <MissionExtension MissionIndependentClass="some.custom.core.plan.editor.PlanNameHelper" MissionSpecificClass="some.custom.core.plan.temporal.TemporalPlanNameHelper" id="TemporalPlanNameHelper"/> <MissionExtension MissionIndependentClass="some.custom.core.plan.editor.lifecycle.NewPlanWizardPage" MissionSpecificClass="some.custom.core.plan.temporal.editor.lifecycle.TemporalNewPlanWizardPage" id="TemporalNewPlanWizard"/> <MissionExtension MissionIndependentClass="some.custom.core.plan.editor.lifecycle.SaveAsWizard" MissionSpecificClass="some.custom.core.plan.temporal.editor.lifecycle.TemporalSaveAsWizard" id="TemporalSaveAsDialog"/> <MissionExtension MissionIndependentClass="some.custom.core.rcp.CustomWorkbenchAdvisor" MissionSpecificClass="my.package.rcp.ProgramWorkbenchAdvisor" id="WorkbenchAdvisor"/> <MissionExtension MissionIndependentClass="some.custom.common.debug.CustomUsageLogger" MissionSpecificClass="my.package.rcp.log.DefaultUsageLogger" id="CustomUsageLogger"/> <MissionExtension MissionIndependentClass="some.custom.common.mission.MissionConstants" MissionSpecificClass="some.custom.common.ui.mission.PreferenceMissionConstants" id="PreferenceMissionConstants"> </MissionExtension> <MissionExtension MissionIndependentClass="some.custom.core.plan.PlanPersister" MissionSpecificClass="my.package.plan.editor.ProgramPlanPersister" id="ProgramPlanPersister"/> <MissionExtension MissionIndependentClass="some.custom.core.plan.editor.lifecycle.SaveAsWizard" MissionSpecificClass="my.package.plan.editor.ProgramSaveAsWizard" id="ProgramSaveAsWizard"/> </extension> <extension point="some.custom.core.model.common.ConsistencyMaintenanceListener"> <consistencyMaintenanceListener class="some.custom.core.plan.resources.dependency.impl.DependencyMaintenanceSystemConsistencyListener"> </consistencyMaintenanceListener> </extension> <extension point="some.custom.core.model.common.ModelChangedListener"> <modelChangedListener class="some.custom.core.plan.resources.ResourceUpdaterModelChangeListener"> </modelChangedListener> </extension> <extension point="some.custom.core.plan.PlanElementMember"> <PlanElementMemberExtension class="some.custom.core.plan.resources.ResourceUpdaterFactory" id="some.custom.msl.plan.resources.dependency.DependencyMaintenanceSystemFactory" name="DependencyMaintenanceSystemFactory"> </PlanElementMemberExtension> </extension> <extension point="some.custom.common.CustomPropertiesProvider"> <CustomPropertiesProviderExtension class="my.package.rcp.properties.ProgramPropertiesProvider" id="my.package.rcp.properties.ProgramPropertiesProvider" name="ProgramPropertiesProvider"/> </extension> <extension point="some.custom.core.rcp.perspectiveCategory"> <perspectiveCategory categoryId="some.custom.core.rcp.perspective.category.planning" perspectiveId="some.custom.core.rcp.perspective.planning"> </perspectiveCategory> <perspectiveCategory categoryId="my.package.rcp.perspective.category.power" perspectiveId="plato.perspective"> </perspectiveCategory> </extension> <extension id="ProgramNature" point="org.eclipse.core.resources.natures"> <runtime> <run class="my.package.ui.ide.ProgramProjectNature"> </run> </runtime> </extension> <extension id="PlanProfileTreePage" name="Plan Profile Tree Page" point="org.eclipse.core.runtime.adapters"> <factory adaptableType="some.custom.core.plan.editor.MultiPagePlanEditor" class="some.custom.core.plan.resources.view.PlanProfileTreePageAdapterFactory"> <adapter type="some.custom.core.jscience.ui.profile.tree.ProfileTreePage"> </adapter> </factory> </extension> <extension id="cps2rml" point="org.eclipse.core.runtime.applications"> <application cardinality="singleton-global" thread="main" visible="true"> <run class="my.package.plan.editor.lifecycle.CPS2RML"> </run> </application> </extension> <extension point="org.eclipse.core.contenttype.contentTypes"> <file-association content-type="some.custom.core.jscience.ui.profile" file-extensions="atl, cnd, xmlcnd, tab01, show, cff, condition" file-names="imported.condition"> </file-association> </extension> <extension id="Program" point="org.eclipse.core.runtime.products"> 	 <product 	application="some.custom.core.rcp.CustomApplication" 	name="Program"> 	<property 	name="appName" 	value="Program"/> 	<property 	name="aboutImage" 	value="icons/Program_128.png"/> 	<property name="aboutText" value="%aboutText"/> 	<property name="windowImages" value="icons/Program_16.png,icons/Program_32.png,icons/Program_48.png,icons/Program_64.png,icons/Program_128.png"/> 	<property name="startupForegroundColor" value="000000"/> 	<property name="startupMessageRect" value="12,12,258,14"/> 	<property name="startupProgressRect" value="12,33,258,11"/> 	<property name="preferenceCustomization" value="plugin_customization.ini"/> </product> </extension> <extension point="org.eclipse.emf.ecore.extension_parser"> <parser class="my.package.rcp.util.ConditionsResourceFactory" type="condition"> </parser> <parser class="my.package.rcp.util.ConditionsResourceFactory" type="cnd"> </parser> <parser class="my.package.rcp.util.ConditionsResourceFactory" type="xmlcnd"> </parser> <parser class="my.package.rcp.util.ConditionsResourceFactory" type="TAB01"> </parser> <parser class="my.package.rcp.util.ConditionsResourceFactory" type="show"> </parser> <parser class="my.package.rcp.util.ATLResourceFactory" type="atl"> </parser> <parser class="my.package.rcp.util.TOPOResourceFactory" type="cff"> </parser> </extension> <extension point="org.eclipse.ui.actionSets"> <actionSet id="my.package.rcp.actionSet" label="Program Action Set" visible="false"> <menu id="my.package.rcp.newMenu" label="New" path="file/new.ext"> <separator name="groupMarker1"> </separator> <separator name="groupMarker2"> </separator> </menu> <action class="some.custom.core.plan.editor.actions.NewPlanResourceAction" icon="icons/new_plan.gif" id="my.package.rcp.new.plan.action" label="Plan File" menubarPath="file/my.package.rcp.newMenu/groupMarker2" style="push" toolbarPath="file/new.ext" tooltip="Create A New Plan Resource"> </action> <action class="my.package.rcp.NewCPSProjectAction" icon="icons/new_Program_project.png" id="my.package.rcp.newCpsProjectAction" label="CPS Project" menubarPath="file/my.package.rcp.newMenu/groupMarker1" style="push" toolbarPath="file/new.ext" tooltip="Import a XMLTIM as a Program Project"> </action> <action class="some.custom.core.plan.editor.actions.NewProgramProjectResourceAction" icon="icons/new_Program_project.png" id="some.custom.common.ui.wizard.NewProgramProjectResourceWizard" label="Planning Project" menubarPath="file/my.package.rcp.newMenu/groupMarker1" style="push" toolbarPath="file/new.ext" tooltip="Create A New Planning Project Resource"> </action> </actionSet> </extension> 	 <extension point="org.eclipse.ui.activities"> <activity description="Unwanted Perspectives Activity" id="my.package.rcp.UnwantedPerspectivesActivity" name="Unwanted Perspectives Activity"> </activity> <activityPatternBinding activityId="my.package.rcp.UnwantedPerspectivesActivity" pattern=".*/.*Perspective$"> </activityPatternBinding> </extension> <extension point="org.eclipse.ui.commands"> <category name="Debug Actions" description="Debugging actions" id="my.custom.plugin.plan.debug"/> <command defaultHandler="some.custom.core.plan.constraints.operations.OneOfEachAction" description="Instantiate one of each activity in the current plan" id="Program.rcp.StressTestActionSets.OneOfEachCommand" name="One of Each"/> </extension> <extension point="org.eclipse.ui.editors"> <editor class="my.package.plan.editor.ATLEditor" contributorClass="some.custom.core.plan.editor.MultiPagePlanEditorContributor" default="true" extensions="atl" icon="icons/plan_editor.gif" id="my.package.plan.editor.ATLEditor" name="ATL Editor"> </editor> <editor class="my.package.plan.editor.CFFEditor" default="true" extensions="cff" icon="icons/cff.gif" id="my.package.plan.editor.CFFEditor" name="CFF Editor"> </editor> </extension> <extension point="org.eclipse.ui.exportWizards"> <wizard category="plan" class="my.package.plan.editor.lifecycle.MrPlannerExportWizard" icon="icons/mrPlanner.png" id="my.package.rcp.wizard.mrplanner" name="Mr Planner"> </wizard> <wizard category="plan" class="my.package.plan.editor.lifecycle.ICalExportWizard" icon="icons/ics_icon.png" id="my.package.rcp.wizard.ical" name="iCalendar (ics)"> </wizard> <wizard category="plan" class="my.package.plan.editor.lifecycle.CPSExportWizard" icon="icons/new_plan.gif" id="my.package.plan.editor.lifecycle.CPSExportWizard" name="CPS XMLTIM"> </wizard> <wizard category="plan" class="my.package.plan.editor.lifecycle.OSTPVExportWizard" icon="icons/new_plan.gif" id="my.package.plan.editor.lifecycle.OSTPVExportWizard" name="OSTPV"> </wizard> <wizard category="plan" class="my.package.plan.editor.lifecycle.ConditionExportWizard" icon="icons/cnd.gif" id="my.package.plan.editor.lifecycle.ConditionExportWizard" name="Condition"> </wizard> <wizard category="Report" class="my.package.plan.editor.lifecycle.pdf.PDFTimelineExportWizard" icon="icons/pdf_fileicon.png" id="my.package.plan.editor.lifecycle.PDFTimelineExportWizard" name="PDF Timeline"> </wizard> </extension> <extension point="org.eclipse.ui.importWizards"> <wizard category="plan" class="my.package.plan.editor.lifecycle.cps.CPSImportWizardJava" icon="icons/new_plan.gif" id="my.package.plan.editor.lifecycle.cps.CPSImportWizardJava" name="CPS"> </wizard> <wizard category="plan" class="my.package.plan.editor.lifecycle.CFoldImportWizard" icon="icons/cnd.gif" id="my.package.plan.editor.lifecycle.CFoldImportWizard" name="C-Fold"> </wizard> </extension> <extension point="org.eclipse.ui.menus"> <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=help"> <menu id="developer" label="Developer"> </menu> </menuContribution> <menuContribution locationURI="menu:developer"> <command commandId="Program.rcp.StressTestActionSets.OneOfEachCommand" label="One of Each" style="push"> <visibleWhen checkEnabled="false"> <reference definitionId="some.custom.core.plan.editor.inPlanContext"> </reference> </visibleWhen> </command> </menuContribution> <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=edit"> <menu id="run" label="Run"> </menu> </menuContribution> </extension> <extension point="org.eclipse.ui.navigator.navigatorContent"> <navigatorContent activeByDefault="true" contentProvider="my.package.ui.ide.navigator.ProgramNavigatorContentProvider" icon="icons/Program_project.png" id="my.package.ui.ide.navigatorContent" labelProvider="my.package.ui.ide.navigator.ProgramNavigatorLabelProvider" name="Program" priority="lowest"> <triggerPoints> <instanceof value="org.eclipse.core.resources.IResource"> </instanceof> </triggerPoints> </navigatorContent> <commonFilter class="my.package.ui.ide.navigator.NonProgramProjectFilter" id="my.package.ui.ide.nonProgramProjects" name="Non Program Projects"> </commonFilter> <commonFilter activeByDefault="true" class="my.custom.plugin.ui.timeline.TimelineFileViewerFilter" id="my.custom.plugin.ui.timeline" name="Timeline UI File"> </commonFilter> <commonWizard menuGroupId="ProgramNewProjectResourceGroup" type="new" wizardId="some.custom.common.ui.wizard.NewProgramProjectResourceWizard"> <enablement></enablement> </commonWizard> <commonWizard menuGroupId="ProgramNewProjectResourceGroup" type="new" wizardId="my.package.rcp.cps"> <enablement></enablement> </commonWizard> <commonWizard menuGroupId="ProgramNewFileResourceGroup" type="new" wizardId="my.package.plan.editor.lifecycle.NewPlanResourceWizard"> <enablement></enablement> </commonWizard> </extension> <extension point="org.eclipse.ui.navigator.viewer"> <viewer viewerId="my.package.ui.ide.navigator"/> <viewerContentBinding viewerId="my.package.ui.ide.navigator"> <includes> <contentExtension pattern="my.package.ui.ide.navigatorContent"> </contentExtension> <contentExtension pattern="some.custom.core.jscience.ui.navigatorContent.profile"/> 			<contentExtension pattern="org.eclipse.ui.navigator.resourceContent" />		 	 	 <contentExtension pattern="org.eclipse.ui.navigator.resources.filters.*"/> <contentExtension pattern="my.package.ui.ide.nonProgramProjects"> </contentExtension> <contentExtension pattern="my.custom.plugin.ui.timeline"> </contentExtension> <actionExtension pattern="my.package.rcp.actionExtension1"> </actionExtension> <contentExtension pattern="some.custom.common.ui.ide.navigator.CustomLinkHelper"> </contentExtension> </includes> </viewerContentBinding> <viewerActionBinding viewerId="my.package.ui.ide.navigator"> <includes> <actionExtension pattern="org.eclipse.ui.navigator.resources.*"> </actionExtension> </includes> </viewerActionBinding> <dragAssistant class="some.custom.core.jscience.ui.ProfileNavigatorDragAdapterAssistant" viewerId="my.package.ui.ide.navigator"> </dragAssistant> </extension> <extension point="org.eclipse.ui.newWizards"> <wizard category="some.custom.core.plan.editor" class="my.package.plan.editor.lifecycle.NewCPSProjectWizard" finalPerspective="some.custom.core.rcp.perspective.planning" icon="icons/new_Program_project.png" id="my.package.rcp.cps.xslt" name="CPS Project (xslt)" project="true"> </wizard> <primaryWizard id="my.package.rcp.cps"> </primaryWizard> <wizard category="some.custom.core.plan.editor" class="my.package.plan.editor.lifecycle.cps.NewCPSProjectWizardJava" finalPerspective="some.custom.core.rcp.perspective.planning" icon="icons/new_Program_project.png" id="my.package.rcp.cps" name="CPS Project" project="true"> </wizard> <wizard canFinishEarly="false" category="some.custom.core.plan.editor" class="my.package.plan.editor.lifecycle.NewPlanResourceWizard" hasPages="true" icon="icons/new_plan.gif" id="my.package.plan.editor.lifecycle.NewPlanResourceWizard" name="Plan File" preferredPerspectives="some.custom.core.rcp.perspective.planning" project="false"> <description> Create a new Plan File resource. </description> </wizard> <wizard category="some.custom.core.plan.editor" class="my.package.plan.editor.lifecycle.ProgramNewProjectResourceWizard" descriptionImage="icons/full/wizban/new_Program_project.png" finalPerspective="some.custom.core.rcp.perspective.planning" icon="icons/new_Program_project.png" id="some.custom.common.ui.wizard.NewProgramProjectResourceWizard" name="Planning Project" preferredPerspectives="some.custom.core.rcp.perspective.planning" project="true"> <description> Create a new Planning Project resource. </description> </wizard> </extension> <extension point="org.eclipse.ui.perspectiveExtensions"> 		<perspectiveExtension targetID="some.custom.core.rcp.perspective.planning"> <view id="some.custom.core.plan.editor.view.template.TemplatePlanView" minimized="false" relationship="stack" relative="some.custom.core.activityDictionary.view.ActivityDictionaryView" visible="true"> </view> 		 <viewShortcut id="my.custom.plugin.core.constraints.view.ConstraintsView" /> 	 <view 	 id="my.custom.plugin.core.constraints.view.ConstraintsView" 	 relationship="stack" 	 relative="some.custom.core.activityDictionary.view.ActivityDictionaryView"/> 	 <viewShortcut id="some.custom.core.jscience.ui.profile.tree.ProfileTreeView"/> 	 <view 	 id="some.custom.core.jscience.ui.profile.tree.ProfileTreeView" 	 relationship="stack" 	 relative="some.custom.core.activityDictionary.view.ActivityDictionaryView"/> 		 <viewShortcut id="some.custom.core.plan.advisor.view.PlanAdvisorView" /> 	 <view 	 id="some.custom.core.plan.advisor.view.PlanAdvisorView" 	 ratio="0.50" 	 relationship="right" 	 relative="some.custom.core.activityDictionary.view.ActivityDictionaryView"/> 	 <actionSet id="some.custom.core.rml3.diffActionSet"/> <newWizardShortcut id="my.package.rcp.cps"> </newWizardShortcut> <actionSet id="my.package.rcp.actionSet"> </actionSet> <view id="my.package.ui.ide.navigator" minimized="false" ratio="0.2" relationship="left" relative="org.eclipse.ui.editorss" visible="true"> </view> </perspectiveExtension> </extension> 	<extension point="org.eclipse.ui.perspectives"> 		<perspective 	 class="some.custom.core.rcp.perspective.PlanningPerspectiveFactory" 	 icon="icons/PlanningPerspective.gif" 	 id="some.custom.core.rcp.perspective.planning" 	 name="Planning"/> 	</extension> <extension point="org.eclipse.ui.views"> <view class="my.package.ui.ide.navigator.ProgramProjectNavigator" icon="icons/project_navigator.png" id="my.package.ui.ide.navigator" name="Program Project Navigator" restorable="true"> </view> </extension> <!-- EDITOR SECTION --> </plugin> set a similar configuration for your CommonNavigator extension. Open a resource through the CommonNavigator. Delete the resource which you have just opened (use the commonNavigator to delete the resource). You will see the resource gets deleted, but the editor remains. There is also an exception thrown.