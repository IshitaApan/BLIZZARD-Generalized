[JFace] Widget is disposed error when closing dialog from OSX dock

- run the snippet below which shows a dialog - right-click its icon in the OSX dock and select Quit -> the exception at the bottom will be spewed - it looks like the last line of Window.runEventLoop(Shell) should change from: display.update(); to... if (!display.isDisposed()) display.update(); snippet: public static void main (String [] args) { 	try { 	 final Display display = new Display (); 	 final Shell shell = new Shell (display); 	 TitleAreaDialog dialog = new TitleAreaDialog(shell); 	 dialog.setBlockOnOpen(true); 	 dialog.open(); 	 display.dispose (); 	} catch (Exception e) { 		e.printStackTrace(); 	} } exception: org.eclipse.swt.SWTException: Widget is disposed 	at org.eclipse.swt.SWT.error(SWT.java:3777) 	at org.eclipse.swt.SWT.error(SWT.java:3695) 	at org.eclipse.swt.SWT.error(SWT.java:3666) 	at org.eclipse.swt.widgets.Display.error(Display.java:1126) 	at org.eclipse.swt.widgets.Display.checkDevice(Display.java:626) 	at org.eclipse.swt.widgets.Display.update(Display.java:4084) 	at org.eclipse.jface.window.Window.runEventLoop(Window.java:832) 	at org.eclipse.jface.window.Window.open(Window.java:801) 	at win32.Main1.main(Main1.java:20)