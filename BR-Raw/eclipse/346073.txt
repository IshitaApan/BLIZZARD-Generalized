'Save All' should be disabled when there are no windows

I opened the 'Git Repository Exploring' perspective to verify bug 341933. Then I went back to 'Java' and opened a Java file to paste something in it. I hit bug 344704 which prevented the paste but also got a StackOverflowError. org.eclipse.e4.core.di.InjectionException: java.lang.StackOverflowError 	at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:63) 	at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:226) 	at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:207) 	at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:123) 	at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.canExecute(HandlerServiceImpl.java:88) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.executeCommand(KeyBindingDispatcher.java:267) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.press(KeyBindingDispatcher.java:504) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.processKeyEvent(KeyBindingDispatcher.java:555) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.filterKeySequenceBindings(KeyBindingDispatcher.java:366) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.access$0(KeyBindingDispatcher.java:313) 	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher$KeyDownFilter.handleEvent(KeyBindingDispatcher.java:81) 	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) 	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077) 	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062) 	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104) 	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1100) 	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1509) 	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4623) 	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4511) 	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4983) 	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) 	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2526) 	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3750) 	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:944) 	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) 	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:860) 	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:87) 	at org.eclipse.ui.internal.Workbench$3.run(Workbench.java:542) 	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) 	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:522) 	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) 	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) 	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) 	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) 	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) 	at java.lang.reflect.Method.invoke(Unknown Source) 	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) 	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) 	at org.eclipse.equinox.launcher.Main.run(Main.java:1410) Caused by: java.lang.StackOverflowError 	at java.util.HashMap.get(Unknown Source) 	at java.util.Collections$SynchronizedMap.get(Unknown Source) 	at org.eclipse.e4.core.internal.contexts.EclipseContext.internalGet(EclipseContext.java:218) 	at org.eclipse.e4.core.internal.contexts.EclipseContext.getActiveChild(EclipseContext.java:577) 	at org.eclipse.e4.ui.internal.workbench.ApplicationPartServiceImpl.getActiveWindowService(ApplicationPartServiceImpl.java:34) 	at org.eclipse.e4.ui.internal.workbench.ApplicationPartServiceImpl.getDirtyParts(ApplicationPartServiceImpl.java:120) 	at org.eclipse.e4.ui.internal.workbench.ApplicationPartServiceImpl.getDirtyParts(ApplicationPartServiceImpl.java:120) 	at org.eclipse.e4.ui.internal.workbench.ApplicationPartServiceImpl.getDirtyParts(ApplicationPartServiceImpl.java:120) 	at org.eclipse.e4.ui.internal.workbench.ApplicationPartServiceImpl.getDirtyParts(ApplicationPartServiceImpl.java:120)