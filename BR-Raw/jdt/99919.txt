NPE while manipulating class path

RC2 All manipulations are done using the build path actions from the context menu - create project Test with source folder src - add to package p and q - exclude q from build path - make src/q a source folder - remove it as a source folder - include q observe: exception below and all source folders in the project are now normal folders. java.lang.NullPointerException at org.eclipse.jdt.internal.core.ClasspathEntry.equalPatterns(ClasspathEntry.java:735) at org.eclipse.jdt.internal.core.ClasspathEntry.equals(ClasspathEntry.java:686) at org.eclipse.jdt.internal.core.JavaProject.isClasspathEqualsTo(JavaProject.java:2225) at org.eclipse.jdt.internal.core.JavaProject.forceClasspathReload(JavaProject.java:1219) at org.eclipse.jdt.internal.core.DeltaProcessor.reconcileClasspathFileUpdate(DeltaProcessor.java:1689) at org.eclipse.jdt.internal.core.DeltaProcessor.checkProjectsBeingAddedOrRemoved(DeltaProcessor.java:473) at org.eclipse.jdt.internal.core.DeltaProcessor.checkProjectsBeingAddedOrRemoved(DeltaProcessor.java:482) at org.eclipse.jdt.internal.core.DeltaProcessor.checkProjectsBeingAddedOrRemoved(DeltaProcessor.java:482) at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaProcessor.java:1789) at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:432) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144) at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180) at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:914) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1728) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:782) at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2834) at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2799) at org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.updateClasspath(ClasspathModifier.java:1603) at org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.unExclude(ClasspathModifier.java:622) at org.eclipse.jdt.internal.corext.buildpath.UnexcludeOperation.run(UnexcludeOperation.java:69) at org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.BuildPathAction$1.run(BuildPathAction.java:121) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)