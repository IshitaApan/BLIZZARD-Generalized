[formatter] The formatter is still unstable in certain circumstances

Follow-up of bug 286601, and more generally speaking since massive tests exist, the formatter is still instable (i.e. files having different formatting output while repeating it twice) in certain circumstances. Typically tests done while testing fixes for bug 286601 showed that there are several noticed instabilities while running the formatter massive tests on the 3 existing full source workspaces (Eclipse 3.0, Galileo and JDKs). Here are the numbers for the v_A16 version: 1) using the Eclipse built-in profile: a) Eclipse 3.0 wksp - 1 file has no output while formatting! - 8 files have different output while reformatting twice but was expected! - 714 files have different output while reformatting twice but only by leading white spaces! - 7 files have different output while reformatting twice but only by white spaces! b) Galileo wksp - 3 files have no output while formatting! - 47 files have different output while reformatting twice! - 2 files have different output while reformatting twice but was expected! - 2384 files have different output while reformatting twice but only by leading white spaces! - 14 files have different output while reformatting twice but only by white spaces! c) JDKs wksp - 4 files have unexpected failure while formatting! - 1 file has no output while formatting! - 115 files have different output while reformatting twice! - 1148 files have different output while reformatting twice but only by leading white spaces! - 43 files have different output while reformatting twice but only by white spaces! 2) using a typical profile built from the one provided in bug 286601, ie. profile = Eclipse built-in + Brace on next line for all positions + Never join lines for Line wrapping a) Eclipse 3.0 wksp - 1 file has no output while formatting! - 3 files have different output while reformatting twice! - 2 files have different output while reformatting twice but was expected! - 631 files have different output while reformatting twice but only by leading whitespaces! - 31 files have different output while reformatting twice but only by whitespaces! b) Galileo wksp - 3 files have no output while formatting! - 29 files have different output while reformatting twice! - 2119 files have different output while reformatting twice but only by leading whitespaces! - 197 files have different output while reformatting twice but only by white spaces! c) JDKs wksp - 4 files have unexpected failure while formatting! - 1 file has no output while formatting! - 121 files have different output while reformatting twice! - 917 files have different output while reformatting twice but only by leading white spaces! - 262 files have different output while reformatting twice but only by white spaces! I also ran the massive tests against 3.3.2: a) Eclipse 3.0 wksp - 1 file has no output while formatting! - 16 files have different output while reformatting twice but only by leading white spaces! - 1 file have different output while reformatting twice but only by white spaces! b) Galileo wksp - 3 files have no output while formatting! - 50 files have different output while reformatting twice but only by leading white spaces! - 3 files have different output while reformatting twice but only by white spaces! c) JDKs wksp - ? files have unexpected failure while formatting! - ? file has no output while formatting! - ? files have different output while reformatting twice! - ? files have different output while reformatting twice but only by leading white spaces! - ? files have different output while reformatting twice but only by white spaces! I didn't really matter about the different outputs when they were only due to white spaces because I thought that these were issues already existing in previous version before the comment formatter was rewritten in 3.4. It seems that I was wrong on that point! So, I set a high priority on this bug to have a chance to understand why these numbers are so high since 3.4 and try reduce them at the 3.3 level (or better) before 3.6 delivery and may be 3.5.2...