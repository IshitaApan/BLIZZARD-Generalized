[spell checking] Locales without country code don't work.

Build ID: M20080911-1700 Steps To Reproduce: 1. Run eclipse IDE with extra plugin project (attachment 122931). It just installs some extra dictionaries with a work-around for bug 261494. 2. Edit a java comment so you can/would see spelling mistakes. 3. Try to switch the spelling preference to 'German' - note that this fails. If you go back to the preferences it has seemingly set your preference to none. 4. Compare with Italien (Italien) which has a country code - this works. If you add a word to the dictionary it will appear in the temporary file. More information: The spelling API appears to allow you to register your own dictionaries by any locale. If, however, your locale doesn't include a country code then it is as if that dictionary doesn't exit. I suspect that this is due to SpellCheckEngine.convertToLocale(String) which assumes that all locales include a country code. On a related note, SpellCheckEngine.findClosestLocale(Locale) should ideally check the main language first if it was trying to match a country that doesn't exist. For example, if it was looking for "de_AT" it would prefer "de" over "de_DE". This is somewhat moot right now due to this bug.