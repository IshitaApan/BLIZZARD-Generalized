[hovering] NPE computing a bracket hover

Build Identifier: Version: 4.2.0 Build id: I20120608-1400 Possibly related to bug 380520 Stacktrace from file: workspace/.metadata/.log !ENTRY org.eclipse.jface.text 4 0 2012-07-08 12:45:13.668 !MESSAGE Unexpected runtime error while computing a text hover !STACK 0 java.lang.NullPointerException 	at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getLineDelimiterUsed(StubUtility.java:823) 	at org.eclipse.jdt.internal.ui.text.java.hover.JavaSourceHover.getBracketHoverInfo(JavaSourceHover.java:141) 	at org.eclipse.jdt.internal.ui.text.java.hover.JavaSourceHover.getHoverInfo(JavaSourceHover.java:96) 	at org.eclipse.jdt.internal.ui.text.java.hover.AbstractJavaEditorTextHover.getHoverInfo2(AbstractJavaEditorTextHover.java:84) 	at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:163) 	at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:129) 	at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo2(JavaEditorTextHoverProxy.java:85) 	at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:166) Reproducible: Couldn't Reproduce Steps to Reproduce: I was trying to nail another bug with the compare viewer switching back and forth between the preferences and opening and closing compare editors (falling back to open java-editors in the background)