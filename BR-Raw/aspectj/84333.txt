BCException: Bad type name: TypeX.nameToSignature(TypeX.java:635)

To reproduce: cd doc\examples\introduction ajc -1.5 @files.lst Output from ajcore is below. This looks similar to bug 83565, but we aren't building the structure model here. ---- AspectJ Properties --- AspectJ Compiler DEVELOPMENT built on Tuesday Feb 1, 2005 at 18:05:49 GMT ---- Dump Properties --- Dump file: ajcore.20050203.150321.210.txt Dump reason: org.aspectj.weaver.BCException Dump on exception: true Dump at exit condition: abort ---- Exception Information --- org.aspectj.weaver.BCException: Bad type name: 	at org.aspectj.weaver.TypeX.nameToSignature(TypeX.java:635) 	at org.aspectj.weaver.TypeX.forName(TypeX.java:88) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:155) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBindings(EclipseFactory.java:163) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:229) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:224) 	at org.aspectj.ajdt.internal.compiler.problem.AjProblemReporter.abstractMethodMustBeImplemented(AjProblemReporter.java:203) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkAbstractMethod(MethodVerifier.java:96) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkMethods(MethodVerifier.java:261) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.verify(MethodVerifier.java:575) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.verifyMethods(SourceTypeBinding.java:1376) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.verifyMethods(CompilationUnitScope.java:672) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:543) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:365) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:682) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102) 	at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:109) 	at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60) 	at org.aspectj.tools.ajc.Main.run(Main.java:291) 	at org.aspectj.tools.ajc.Main.runMain(Main.java:227) 	at org.aspectj.tools.ajc.Main.main(Main.java:80) ---- System Properties --- java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition sun.boot.library.path=e:\sun150\jre\bin java.vm.version=1.5.0_01-b08 java.vm.vendor=Sun Microsystems Inc. java.vendor.url=http://java.sun.com/ path.separator=; java.vm.name=Java HotSpot(TM) Client VM file.encoding.pkg=sun.io user.country=GB sun.os.patch.level=Service Pack 1 java.vm.specification.name=Java Virtual Machine Specification user.dir=C:\aspectj1.5\doc\examples\introduction java.runtime.version=1.5.0_01-b08 java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment java.endorsed.dirs=e:\sun150\jre\lib\endorsed os.arch=x86 java.io.tmpdir=C:\DOCUME~1\mchapman\LOCALS~1\Temp\ line.separator= java.vm.specification.vendor=Sun Microsystems Inc. user.variant= os.name=Windows XP sun.jnu.encoding=Cp1252 java.library.path=e:\sun150\bin;.;C:\WINDOWS\System32;C:\WINDOWS;e:\sun150\jre\bin;c:\aspectj1.5\bin;C:\PROGRAM FILES\THINKPAD\UTILITIES;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\IBM\Infoprint Select;C:\Program Files\ATI Technologies\ATI Control Panel;C:\Program Files\PC-Doctor for Windows\services;C:\Program Files\ObjREXX;C:\Program Files\ObjREXX\OODIALOG;;c:\cygwin\bin;c:\utilities;e:\ant\bin;c:\aspectj1.2\bin java.specification.name=Java Platform API Specification java.class.version=49.0 sun.management.compiler=HotSpot Client Compiler os.version=5.1 user.home=C:\Documents and Settings\mchapman user.timezone=Europe/London java.awt.printerjob=sun.awt.windows.WPrinterJob file.encoding=Cp1252 java.specification.version=1.5 java.class.path=c:\aspectj1.5\lib\aspectjtools.jar;e:\sun150\lib\tools.jar;c:\aspectj1.5\lib\aspectjrt.jar user.name=mchapman java.vm.specification.version=1.0 java.home=e:\sun150\jre sun.arch.data.model=32 user.language=en java.specification.vendor=Sun Microsystems Inc. awt.toolkit=sun.awt.windows.WToolkit java.vm.info=mixed mode java.version=1.5.0_01 java.ext.dirs=e:\sun150\jre\lib\ext sun.boot.class.path=e:\sun150\jre\lib\rt.jar;e:\sun150\jre\lib\i18n.jar;e:\sun150\jre\lib\sunrsasign.jar;e:\sun150\jre\lib\jsse.jar;e:\sun150\jre\lib\jce.jar;e:\sun150\jre\lib\charsets.jar;e:\sun150\jre\classes java.vendor=Sun Microsystems Inc. file.separator=\ java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi sun.io.unicode.encoding=UnicodeLittle sun.cpu.endian=little sun.desktop=windows sun.cpu.isalist=pentium_pro+mmx pentium_pro pentium+mmx pentium i486 i386 i86 ---- Command Line --- -1.5 @files.lst ---- Full Classpath --- e:\sun150\jre\lib\rt.jar(37600990 bytes) e:\sun150\jre\lib\i18n.jar(missing) e:\sun150\jre\lib\sunrsasign.jar(missing) e:\sun150\jre\lib\jsse.jar(549229 bytes) e:\sun150\jre\lib\jce.jar(81615 bytes) e:\sun150\jre\lib\charsets.jar(8628006 bytes) e:\sun150\jre\classes(missing) e:\sun150\jre\lib\ext\dnsns.jar(8176 bytes) e:\sun150\jre\lib\ext\localedata.jar(802502 bytes) e:\sun150\jre\lib\ext\sunjce_provider.jar(153036 bytes) e:\sun150\jre\lib\ext\sunpkcs11.jar(173235 bytes) e:\sun150\lib\tools.jar(6812965 bytes) c:\aspectj1.5\lib\aspectjrt.jar(42013 bytes) e:\sun150\jre\lib\ext\dnsns.jar(8176 bytes) e:\sun150\jre\lib\ext\localedata.jar(802502 bytes) e:\sun150\jre\lib\ext\sunjce_provider.jar(153036 bytes) e:\sun150\jre\lib\ext\sunpkcs11.jar(173235 bytes) e:\sun150\lib\tools.jar(6812965 bytes) c:\aspectj1.5\lib\aspectjrt.jar(42013 bytes) ---- Compiler Messages --- error at (no source information available) C:\aspectj1.5\doc\examples\introduction\Point.java:0::0 Internal compiler error org.aspectj.weaver.BCException: Bad type name: 	at org.aspectj.weaver.TypeX.nameToSignature(TypeX.java:635) 	at org.aspectj.weaver.TypeX.forName(TypeX.java:88) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:155) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBindings(EclipseFactory.java:163) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:229) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:224) 	at org.aspectj.ajdt.internal.compiler.problem.AjProblemReporter.abstractMethodMustBeImplemented(AjProblemReporter.java:203) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkAbstractMethod(MethodVerifier.java:96) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkMethods(MethodVerifier.java:261) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.verify(MethodVerifier.java:575) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.verifyMethods(SourceTypeBinding.java:1376) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.verifyMethods(CompilationUnitScope.java:672) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:543) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:365) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:682) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102) 	at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:109) 	at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60) 	at org.aspectj.tools.ajc.Main.run(Main.java:291) 	at org.aspectj.tools.ajc.Main.runMain(Main.java:227) 	at org.aspectj.tools.ajc.Main.main(Main.java:80) abort ABORT -- (BCException) Bad type name: Bad type name: org.aspectj.weaver.BCException: Bad type name: 	at org.aspectj.weaver.TypeX.nameToSignature(TypeX.java:635) 	at org.aspectj.weaver.TypeX.forName(TypeX.java:88) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:155) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBindings(EclipseFactory.java:163) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:229) 	at org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.makeResolvedMember(EclipseFactory.java:224) 	at org.aspectj.ajdt.internal.compiler.problem.AjProblemReporter.abstractMethodMustBeImplemented(AjProblemReporter.java:203) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkAbstractMethod(MethodVerifier.java:96) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.checkMethods(MethodVerifier.java:261) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodVerifier.verify(MethodVerifier.java:575) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.verifyMethods(SourceTypeBinding.java:1376) 	at org.aspectj.org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.verifyMethods(CompilationUnitScope.java:672) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:543) 	at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:365) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:682) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168) 	at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102) 	at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:109) 	at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60) 	at org.aspectj.tools.ajc.Main.run(Main.java:291) 	at org.aspectj.tools.ajc.Main.runMain(Main.java:227) 	at org.aspectj.tools.ajc.Main.main(Main.java:80) ---- org.aspectj.weaver.bcel.BcelWorld ---- Shadow mungers: Empty Type mungers: (EclipseTypeMunger ResolvedTypeMunger(Method, java.lang.Object introduction.Point.clone())) (BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void java.lang.Cloneable.())) (EclipseTypeMunger ResolvedTypeMunger(Method, int introduction.Point.hashCode())) (EclipseTypeMunger ResolvedTypeMunger(Method, boolean introduction.Point.equals(java.lang.Object))) (EclipseTypeMunger ResolvedTypeMunger(Method, int introduction.Point.compareTo(java.lang.Object))) (BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void java.lang.Comparable.()))