NPE thrown out if sorting on a crosstab which show empty columns

Created attachment 121226 report design Description: NPE thrown out if sorting on a crosstab which show empty columns Build number: 2.5.0.v20081225-0630 Steps to reproduce: 1, Open attached report or new a crosstab 2, Show empty columns 3, Add a sorting condition 4, Preview the report Expected result: The preview is good. Actual result: NPE was thrown out. Error log: Caused by: org.eclipse.birt.report.engine.api.EngineException: Error happened while running the report at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:172) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:69) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:881) ... 47 more Caused by: java.lang.NullPointerException at org.eclipse.birt.data.engine.olap.driver.EdgeAxis.findAggregationSort(EdgeAxis.java:203) at org.eclipse.birt.data.engine.olap.driver.EdgeAxis.populateDimensionAxis(EdgeAxis.java:145) at org.eclipse.birt.data.engine.olap.driver.EdgeAxis.(EdgeAxis.java:70) at org.eclipse.birt.data.engine.olap.driver.CubeResultSet.populateEdge(CubeResultSet.java:77) at org.eclipse.birt.data.engine.olap.driver.CubeResultSet.(CubeResultSet.java:43) at org.eclipse.birt.data.engine.olap.query.view.QueryExecutor.execute(QueryExecutor.java:145) at org.eclipse.birt.data.engine.olap.query.view.BirtCubeView.getCubeCursor(BirtCubeView.java:155) at org.eclipse.birt.data.engine.olap.impl.query.CubeQueryResults.getCubeCursor(CubeQueryResults.java:84) at org.eclipse.birt.report.engine.data.dte.CubeResultSet.(CubeResultSet.java:87) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteCube(DteDataEngine.java:173) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:253) at org.eclipse.birt.report.engine.executor.ExecutorManager$ExecutorContext.executeQuery(ExecutorManager.java:422) at org.eclipse.birt.report.item.crosstab.core.re.executor.BaseCrosstabExecutor.executeQuery(BaseCrosstabExecutor.java:103) at org.eclipse.birt.report.item.crosstab.core.re.executor.CrosstabReportItemExecutor.execute(CrosstabReportItemExecutor.java:102) at org.eclipse.birt.report.engine.executor.ExtendedItemExecutor.execute(ExtendedItemExecutor.java:61) at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute(SuppressDuplicateItemExecutor.java:42) at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute(WrappedReportItemExecutor.java:45) at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:33) at org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes(HTMLBlockStackingLM.java:63) at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:90) at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:97) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:156)