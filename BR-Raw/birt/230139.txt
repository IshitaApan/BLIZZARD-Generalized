Exception throws out when previewing nested crosstab in PDF

Created attachment 98571 report design Description: Exception throws out when previewing nested crosstab in PDF Build number: 2.3.0.v20080505-0800 Steps to reproduce: 1, Open attached report design which including nested crosstabs. 2, Preview it in PDF. Expected result: Preview results should be ok as previewing it in Web viewer Actual result: Exception throws out. Error log: org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report.; nested exception is: java.lang.StringIndexOutOfBoundsException: String index out of range: 10 AxisFault faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException faultSubcode: faultString: org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report.; nested exception is: 	java.lang.StringIndexOutOfBoundsException: String index out of range: 10 faultActor: faultNode: faultDetail: 	{http://xml.apache.org/axis/}stackTrace:org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report.; nested exception is: 	java.lang.StringIndexOutOfBoundsException: String index out of range: 10 	at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(BirtViewerReportService.java:923) 	at org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute(BirtRunAndRenderActionHandler.java:89) 	at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:89) 	at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(EngineFragment.java:305) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:76) 	at org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet(BirtEngineServlet.java:119) 	at org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet(BaseReportEngineServlet.java:156) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:596) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:689) 	at org.eclipse.birt.report.servlet.BaseReportEngineServlet.service(BaseReportEngineServlet.java:109) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:59) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:689) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:270) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428) 	at org.mortbay.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:677) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568) 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530) 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482) 	at org.mortbay.http.HttpServer.service(HttpServer.java:909) 	at org.mortbay.http.HttpConnection.service(HttpConnection.java:820) 	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986) 	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:837) 	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:245) 	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357) 	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534) Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: 10 	at java.lang.String.substring(String.java:1765) 	at org.eclipse.birt.report.engine.layout.area.impl.TextArea.calculateText(TextArea.java:149) 	at org.eclipse.birt.report.engine.layout.area.impl.TextArea.getText(TextArea.java:168) 	at org.eclipse.birt.report.engine.emitter.pdf.PDFRender.drawTextAt(PDFRender.java:167) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.drawTextAt(PageDeviceRender.java:730) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitText(PageDeviceRender.java:167) 	at org.eclipse.birt.report.engine.emitter.pdf.PDFRender.visitText(PDFRender.java:88) 	at org.eclipse.birt.report.engine.layout.area.impl.TextArea.accept(TextArea.java:208) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitChildren(PageDeviceRender.java:210) 	at org.eclipse.birt.report.engine.layout.emitter.PageDeviceRender.visitContainer(PageDeviceRender.java:200) 	at org.eclipse.birt.report.engine.layout.area.impl.ContainerArea.accept(ContainerArea.java:68) 	at org.eclipse.birt.report.engine.layout.emitter.PageEmitter.startPage(PageEmitter.java:49) 	at org.eclipse.birt.report.engine.layout.pdf.emitter.PDFLayoutEmitter.endPage(PDFLayoutEmitter.java:391) 	at org.eclipse.birt.report.engine.emitter.CompositeContentEmitter.endPage(CompositeContentEmitter.java:168) 	at org.eclipse.birt.report.engine.emitter.ContentEmitterUtil.endContent(ContentEmitterUtil.java:99) 	at org.eclipse.birt.report.engine.layout.html.buffer.PageNode.end(PageNode.java:32) 	at org.eclipse.birt.report.engine.layout.html.buffer.HTMLPageBuffer.endPage(HTMLPageBuffer.java:212) 	at org.eclipse.birt.report.engine.layout.html.buffer.HTMLPageBuffer.endContainer(HTMLPageBuffer.java:128) 	at org.eclipse.birt.report.engine.layout.html.buffer.TableBreakBuffer.endContainer(TableBreakBuffer.java:231) 	at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.end(HTMLPageLM.java:186) 	at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:100) 	at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:101) 	at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:150) 	at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:72) 	at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:852) 	at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:720) 	at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(BirtViewerReportService.java:915)