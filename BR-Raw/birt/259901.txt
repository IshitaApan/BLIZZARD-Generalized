IndexOutOfBoundsException thrown out if sorting on a level which show empty columns

Created attachment 121477 report design Description: IndexOutOfBoundsException thrown out if sorting on a level which show empty columns Build number: 2.5.0.v20080104-1034 Steps to reproduce: 1, Preview attached report or create a crosstab with two levels: Country->State 2, Show empty columns on State level 3, Add a sort condition on State level 4, Preview Expected result: The preview is good Actual result: IndexOutOfBoundsException thrown out Error log: Caused by: org.eclipse.birt.report.engine.api.EngineException: Error happened while running the report at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:172) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:69) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:881) ... 49 more Caused by: java.lang.IndexOutOfBoundsException: Index: 10, Size: 10 at org.eclipse.birt.data.engine.olap.data.impl.aggregation.AggregationResultSet.seek(AggregationResultSet.java:334) at org.eclipse.birt.data.engine.olap.cursor.RowDataAccessor.fetchValueCollectionInEdgeInfo(RowDataAccessor.java:362) at org.eclipse.birt.data.engine.olap.cursor.RowDataAccessor.fetchValueFromMirror(RowDataAccessor.java:319) at org.eclipse.birt.data.engine.olap.cursor.RowDataAccessor.dim_getCurrentMember(RowDataAccessor.java:291) at org.eclipse.birt.data.engine.olap.driver.DimensionAxis.getCurrentMember(DimensionAxis.java:404) at org.eclipse.birt.data.engine.olap.cursor.DimensionAccessor.getObject(DimensionAccessor.java:213) at org.eclipse.birt.data.engine.olap.cursor.AbstractCursorSupport.getObject(AbstractCursorSupport.java:382) at org.eclipse.birt.data.engine.olap.cursor.AggregationAccessor.populateRelation(AggregationAccessor.java:159) at org.eclipse.birt.data.engine.olap.cursor.AggregationAccessor.getObject(AggregationAccessor.java:484) at org.eclipse.birt.data.engine.olap.cursor.AbstractCursorSupport.getObject(AbstractCursorSupport.java:382) at org.eclipse.birt.data.engine.olap.impl.query.CubeCursorImpl.getObject(CubeCursorImpl.java:328) at org.eclipse.birt.report.engine.executor.DataItemExecutor.execute(DataItemExecutor.java:112) at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute(SuppressDuplicateItemExecutor.java:42) at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute(WrappedReportItemExecutor.java:45) at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:33) at org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes(HTMLBlockStackingLM.java:63)