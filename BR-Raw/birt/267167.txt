The display name becomes improper after 'undo'.

Created attachment 127632 screenshot description: The display name becomes improper after 'undo'. build id: 2.5.0 v20090305-0630 steps to reproduce: 1. New a template with a display name. 2. Undo three times. 3. Try to register the template. Actual result: The display name and description of the tempalte will become improper. See attached screenshot.