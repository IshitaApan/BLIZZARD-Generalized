http 500 while error script in parameter getSelectionValueList method[0801]

Description: Http error 500 when I wrote invalid script in list-box parameter's getSelectionValueList method. Build number:2.5.1.v20090828 Steps to reproduce: 1. New a parameter, list-box. 2. Input new array("a","b") in parameter getSelectionValueList method.(new array is invalid, correct should be new Array) 3. Preview Expected result: Catch the error and throw BIRTexception. Actual result: http error 500. Error log: HTTP ERROR 500 Problem accessing /viewer/run. Reason: Exception in JSP: /webcontent/birt/pages/layout/ReportDialogFragment.jsp:28 25: <% 26: 	if ( fragment != null ) 27: 	{ 28: 		fragment.callBack( request, response ); 29: 	} 30: %> 31: </TD> Stacktrace: Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/layout/ReportDialogFragment.jsp:28 25: 31: Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:375) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.RunFragment_jsp._jspService(RunFragment_jsp.java:206) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.layout.FramesetFragment.service(FramesetFragment.java:98) 	at org.eclipse.birt.report.servlet.ViewerServlet.__doGet(ViewerServlet.java:181) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doGet(BirtSoapMessageDispatcherServlet.java:160) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:59) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152) 	at org.mortbay.jetty.Server.handle(Server.java:324) 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535) 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865) 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:540) 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:213) 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404) 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409) 	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520) Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/dialog/DialogContainerFragment.jsp:64 61: 				 67: 			 Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:375) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.ReportDialogFragment_jsp._jspService(ReportDialogFragment_jsp.java:62) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 66 more Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/dialog/ParameterDialogFragment.jsp:55 52: 							 IFragment subfragment = ( IFragment ) childIterator.next( ); 53: 								if ( subfragment != null ) 54: 								{ 55: 									subfragment.service( request, response ); 56: 								} 57: 							} 58: 						} Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.dialog.DialogContainerFragment_jsp._jspService(DialogContainerFragment_jsp.java:124) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 89 more Caused by: org.mozilla.javascript.EcmaError: ReferenceError: "array" is not defined. (#1) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3557) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3535) 	at org.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3620) 	at org.mozilla.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1718) 	at org.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1657) 	at org.mozilla.javascript.gen.c149._c0(:1) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:401) 	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3003) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.gen.c149.exec() 	at org.eclipse.birt.report.engine.javascript.JavascriptEngine.evaluate(JavascriptEngine.java:256) 	at org.eclipse.birt.core.script.ScriptContext.evaluate(ScriptContext.java:152) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:706) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:687) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:664) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.evaluateSelectionValue(GetParameterDefinitionTask.java:338) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.doGetSelectionList(GetParameterDefinitionTask.java:478) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.getSelectionList(GetParameterDefinitionTask.java:395) 	at org.eclipse.birt.report.service.BirtViewerReportService.getParameterSelectionList(BirtViewerReportService.java:821) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ComboBoxParameterFragment.prepareParameterBean(ComboBoxParameterFragment.java:89) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ScalarParameterFragment.doService(ScalarParameterFragment.java:91) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:76) 	at org.apache.jsp.webcontent.birt.pages.dialog.ParameterDialogFragment_jsp._jspService(ParameterDialogFragment_jsp.java:98) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 112 more Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/dialog/DialogContainerFragment.jsp:64 61: 				 67: 			 Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:375) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.ReportDialogFragment_jsp._jspService(ReportDialogFragment_jsp.java:62) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.RunFragment_jsp._jspService(RunFragment_jsp.java:206) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.layout.FramesetFragment.service(FramesetFragment.java:98) 	at org.eclipse.birt.report.servlet.ViewerServlet.__doGet(ViewerServlet.java:181) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doGet(BirtSoapMessageDispatcherServlet.java:160) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:59) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152) 	at org.mortbay.jetty.Server.handle(Server.java:324) 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535) 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865) 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:540) 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:213) 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404) 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409) 	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520) Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/dialog/ParameterDialogFragment.jsp:55 52: 							 IFragment subfragment = ( IFragment ) childIterator.next( ); 53: 								if ( subfragment != null ) 54: 								{ 55: 									subfragment.service( request, response ); 56: 								} 57: 							} 58: 						} Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.dialog.DialogContainerFragment_jsp._jspService(DialogContainerFragment_jsp.java:124) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 89 more Caused by: org.mozilla.javascript.EcmaError: ReferenceError: "array" is not defined. (#1) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3557) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3535) 	at org.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3620) 	at org.mozilla.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1718) 	at org.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1657) 	at org.mozilla.javascript.gen.c149._c0(:1) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:401) 	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3003) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.gen.c149.exec() 	at org.eclipse.birt.report.engine.javascript.JavascriptEngine.evaluate(JavascriptEngine.java:256) 	at org.eclipse.birt.core.script.ScriptContext.evaluate(ScriptContext.java:152) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:706) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:687) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:664) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.evaluateSelectionValue(GetParameterDefinitionTask.java:338) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.doGetSelectionList(GetParameterDefinitionTask.java:478) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.getSelectionList(GetParameterDefinitionTask.java:395) 	at org.eclipse.birt.report.service.BirtViewerReportService.getParameterSelectionList(BirtViewerReportService.java:821) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ComboBoxParameterFragment.prepareParameterBean(ComboBoxParameterFragment.java:89) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ScalarParameterFragment.doService(ScalarParameterFragment.java:91) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:76) 	at org.apache.jsp.webcontent.birt.pages.dialog.ParameterDialogFragment_jsp._jspService(ParameterDialogFragment_jsp.java:98) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 112 more Caused by: org.apache.jasper.JasperException: Exception in JSP: /webcontent/birt/pages/dialog/ParameterDialogFragment.jsp:55 52: 							 IFragment subfragment = ( IFragment ) childIterator.next( ); 53: 								if ( subfragment != null ) 54: 								{ 55: 									subfragment.service( request, response ); 56: 								} 57: 							} 58: 						} Stacktrace: 	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:504) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.dialog.DialogContainerFragment_jsp._jspService(DialogContainerFragment_jsp.java:124) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.ReportDialogFragment_jsp._jspService(ReportDialogFragment_jsp.java:62) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:82) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.callBack(AbstractBaseFragment.java:106) 	at org.apache.jsp.webcontent.birt.pages.layout.RunFragment_jsp._jspService(RunFragment_jsp.java:206) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314) 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.jsp.jasper.JspServlet.service(JspServlet.java:112) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192) 	at org.eclipse.equinox.http.servlet.internal.RequestDispatcherAdaptor.include(RequestDispatcherAdaptor.java:37) 	at org.eclipse.birt.report.presentation.aggregation.layout.FramesetFragment.service(FramesetFragment.java:98) 	at org.eclipse.birt.report.servlet.ViewerServlet.__doGet(ViewerServlet.java:181) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doGet(BirtSoapMessageDispatcherServlet.java:160) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:59) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:318) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:380) 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152) 	at org.mortbay.jetty.Server.handle(Server.java:324) 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535) 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865) 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:540) 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:213) 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404) 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409) 	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520) Caused by: org.mozilla.javascript.EcmaError: ReferenceError: "array" is not defined. (#1) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3557) 	at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3535) 	at org.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3620) 	at org.mozilla.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1718) 	at org.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1657) 	at org.mozilla.javascript.gen.c149._c0(:1) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:401) 	at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3003) 	at org.mozilla.javascript.gen.c149.call() 	at org.mozilla.javascript.gen.c149.exec() 	at org.eclipse.birt.report.engine.javascript.JavascriptEngine.evaluate(JavascriptEngine.java:256) 	at org.eclipse.birt.core.script.ScriptContext.evaluate(ScriptContext.java:152) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:706) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:687) 	at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:664) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.evaluateSelectionValue(GetParameterDefinitionTask.java:338) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.doGetSelectionList(GetParameterDefinitionTask.java:478) 	at org.eclipse.birt.report.engine.api.impl.GetParameterDefinitionTask.getSelectionList(GetParameterDefinitionTask.java:395) 	at org.eclipse.birt.report.service.BirtViewerReportService.getParameterSelectionList(BirtViewerReportService.java:821) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ComboBoxParameterFragment.prepareParameterBean(ComboBoxParameterFragment.java:89) 	at org.eclipse.birt.report.presentation.aggregation.parameter.ScalarParameterFragment.doService(ScalarParameterFragment.java:91) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:76) 	at org.apache.jsp.webcontent.birt.pages.dialog.ParameterDialogFragment_jsp._jspService(ParameterDialogFragment_jsp.java:98) 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332) 	... 112 more