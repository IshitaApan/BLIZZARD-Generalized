Exception is thrown out when table share a data's result set without any contents [0005]

Created attachment 111183 report design Description: Exception is thrown out when table share a data's result set without any contents. Build number: 2.3.1.v20080828-1307 Steps to reproduce: 1. New a data set from table CUSTOMERS, add filter condition CUSTOMERNUMBER=100. 2. New a data binding to the data set. 3. New a table share the result set of the data. 4. Preview. Expected result: No exception. Actual result: Exception is thrown out. Error log: - org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report AxisFault faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException faultSubcode: faultString: org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report faultActor: faultNode: faultDetail: 	{http://xml.apache.org/axis/}stackTrace:org.eclipse.birt.report.service.api.ReportServiceException: Error happened while running the report 	at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:961) 	at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(BirtViewerReportService.java:933) 	at org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute(BirtRunAndRenderActionHandler.java:76) 	at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:90) 	at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(EngineFragment.java:298) 	at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(AbstractBaseFragment.java:76) 	at org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet(BirtEngineServlet.java:119) 	at org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet(BaseReportEngineServlet.java:156) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:596) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:689) 	at org.eclipse.birt.report.servlet.BaseReportEngineServlet.service(BaseReportEngineServlet.java:109) 	at org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180) 	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111) 	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:59) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:689) 	at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:269) 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428) 	at org.mortbay.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:677) 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568) 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530) 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482) 	at org.mortbay.http.HttpServer.service(HttpServer.java:909) 	at org.mortbay.http.HttpConnection.service(HttpConnection.java:820) 	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986) 	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:837) 	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:245) 	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357) 	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534) Caused by: org.eclipse.birt.report.engine.api.EngineException: Error happened while running the report 	at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:180) 	at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:72) 	at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(ReportEngineService.java:954) 	... 29 more Caused by: java.lang.StackOverflowError 	at java.security.AccessController.doPrivileged(Native Method) 	at java.io.PrintWriter.<init>(Unknown Source) 	at java.io.PrintWriter.<init>(Unknown Source) 	at org.apache.derby.iapi.services.context.ErrorStringBuilder.<init>(Unknown Source) 	at org.apache.derby.iapi.services.context.ContextManager.cleanupOnError(Unknown Source) 	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) 	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) 	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) 	at org.apache.derby.impl.jdbc.EmbedResultSet.closeOnTransactionError(Unknown Source) 	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(Unknown Source) 	at org.apache.derby.impl.jdbc.EmbedResultSet.next(Unknown Source) 	at org.eclipse.birt.report.data.oda.jdbc.ResultSet.next(ResultSet.java:173) 	at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaResultSet.next(OdaResultSet.java:177) 	at org.eclipse.birt.data.engine.odaconsumer.ResultSet.fetch(ResultSet.java:139) 	at org.eclipse.birt.data.engine.executor.cache.OdiAdapter.fetch(OdiAdapter.java:145) 	at org.eclipse.birt.data.engine.executor.cache.RowResultSet.next(RowResultSet.java:102) 	at org.eclipse.birt.data.engine.executor.cache.RowResultSet.hasNext(RowResultSet.java:181) 	at org.eclipse.birt.data.engine.executor.transform.SimpleResultSet.getEndingGroupLevel(SimpleResultSet.java:161) 	at org.eclipse.birt.data.engine.impl.ResultIterator.getEndingGroupLevel(ResultIterator.java:794) 	at org.eclipse.birt.data.engine.impl.ResultIterator.saveCurrentRow(ResultIterator.java:451) 	at org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow(ResultIterator.java:669) 	at org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:386) 	at org.eclipse.birt.data.engine.impl.ResultIterator.getValue(ResultIterator.java:596) 	at org.eclipse.birt.data.engine.impl.ResultIterator.saveCurrentRow(ResultIterator.java:455) 	at org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow(ResultIterator.java:669) 	at org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:386) 	at org.eclipse.birt.data.engine.impl.ResultIterator.getValue(ResultIterator.java:596) 	at org.eclipse.birt.data.engine.impl.ResultIterator.saveCurrentRow(ResultIterator.java:455) 	at org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow(ResultIterator.java:669)