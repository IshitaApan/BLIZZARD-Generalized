Java chart ScriptHandler not initialized properly

(This bug report results from a news group message, see http://www.eclipse.org/newsportal/article.php?id=28059&group=eclipse.birt#28059) I want to sum up: - the following code used to work in 2.2.0 and not anymore in 2.2.1 upwards: ----------- PluginSettings ps = PluginSettings.instance(); idr = ps.getDevice( "dv.SWT" );//$NON-NLS-1$ idr.setProperty( IDeviceRenderer.UPDATE_NOTIFIER, this ); gr = Generator.instance(); dServer = idr.getDisplayServer(); ----------- - One has to add extra overhead, since in Generator.build() this is not done (anymore): ----------- context = gr.prepare( cm, null, null, ULocale.getDefault() ); context.setScriptClassLoader( new ScriptClassLoaderAdapter() { @Override public Class loadClass( String className, ClassLoader parentLoader ) throws ClassNotFoundException { Class c = Class.forName( className ); return c; } } ); context.getScriptHandler().setScriptClassLoader( context.getScriptClassLoader() ); context.getScriptHandler().init( null ); context.getScriptHandler().register( null, cm.getScript() ); ----------- where "cm" is the chart model.