Performance issue with sorting a group

Created attachment 137181 sort issue test case Build ID: M20090211-1700 Steps To Reproduce: 1. Open the attached design file named sortbug.rptdesign 2. View the report as PDF 3. More information: We have found that several of our reports take increasingly long to complete as the data set size increases, but the time is more exponential than linear. The common attributes of these reports are groups on a table that have a sort key. In one of our reports with a data set of 200k rows it will complete in under 10 minutes without sorting. This time includes rendering the report to a PDF. However adding a sort key will increase that time to over 18 hours to complete. Attached is a test case that replicates this problem. There are three files: 1. sortbug.rptdesign is the template that has a table with two groups, with a sort set on the second group. 2. sortbug-nosort.rptdesign is the same as the other template, but without any sorting 3. data.txt is a flat file that is used as the datasource of the two templates. It is a tabbed delimited with approximately 50k rows and 12 columns. The first column is the first grouped column and it contains distinct values. The second column is the second group and it has about half as many distinct values as there are rows. The unsorted report will finish in about 30 seconds in my environment, while the sorted report takes much longer