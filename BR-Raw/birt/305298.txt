[Regression]Stacked bar chart displays aggregation data incorrectly on BIRT 2.5.2, worked OK in 2.5.1

Build Identifier: 20090920-1017 We upgraded from 2.5.1 to 2.5.2 and a stacked bar chart inside a report that used to display data correctly now shows incorrect values. We have a data set that essentially is line items with a "week" field that shows the calendar week when the item was created and a "type" field that is a line item categorization. In the report we have a grouping by week which in the group footer for each week shows how many line items of a category were created per week. In the table footer we have a chart which shows a stacked bar chart of total number of line items created per week with data series 1 bound to weekly group aggregation for category 1, data series 2 bound to weekly group aggregation for category 2, etc. So, X-axis is week number and Y axis is the number of line items that week with stacked bars showing total number for each category. This works fine in 2.5.1, see a screenshot from designer preview for a simplified example: http://www.lekane.com/share/screenshot251.png However, in 2.5.2 the result is different as witnessed by the image here: http://www.lekane.com/share/screenshot252.png Two things seem to be going wrong here: - the totals are wrong: each data series shows the total number of items for the week - as a result the total height of the bar is actually number of line items for the week times number of categories and obviously each category in the chart is equal to other categories The data in the table is correct, the aggregations still show correct data so this seems to be related to the chart component itself. We have tried several things: - different type of chart: side-by side bars instead of stacked - different output format: pdf instead of html - different channels: Eclipse IDE BIRT designer preview tab vs. BIRT Viewer vs. API generated chart - different image formats: GIF/PNG/SVG - created the report from scratch on 2.5.2 instead of opening a 2.5.1-file and then saving as 2.5.2 and the same problem manifests itself in all cases. Reproducible: Always Steps to Reproduce: 1. Create a folder to use as a flat file data source and place the test data csv file in the folder 2. Open the report design file in 2.5.2 designer 3. Modify "testDS" data source to point to the folder created in step 1 4. Click "Preview" tab to show the results. In the chart, the "Small items" and "Big items" data series that are bound to the weekly aggregations show number of line items instead of number of matching line items. The aggregation data in the table on the group footer lines with green background shows the actual values which should be shown. 5. Do the same steps in 2.5.1, the chart shows correct bars for the aggregation data.