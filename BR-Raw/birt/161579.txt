Add NonCategory X axis support

I'm having problems creating a MarkerLine on an axis of type DateTime, using BIRT 2.1.1. Here's a basic description of the problem: I have a line chart with x axis DateTime and y axis Number. I'd like to programatically (in javascript function beforeGeneration, for example) create a marker line at a given date: // Set Current Date Marker var xAxis = chart.getPrimaryBaseAxes()[0]; var dateTime = DateTimeDataElementImpl.create(new CDateTime(2006,09,22)); var dateLine = MarkerLineImpl.create(xAxis, dateTime); This doesn't work - stepping through the code, AxesRenderer.renderMarkerLines calls PlotWith2DAxes.getLocation, passing the DateTimeDataElementImpl and an AutoScale, which calls Methods.getDateLocation. But the AutoScale doesn't have the necessary information (unit, step, etc) to calculate the result and throws an exception. Okay. So after some web searches I find this: https://bugs.eclipse.org/bugs/show_bug.cgi?id=116004 In it, I find there was originally a bug creating marker lines on a date time axis, but this was fixed a year ago. But the remark from Zhiqiang Qian says to use a NumberDataElement instead of the CDateTime. So I tried that, but (1) how am I supposed to know what double value should be passed in? The chart should be able to figure this out for me based on the date. But more importantly, (2) AxesRenderer.renderMarkerLines throws an exception trying to set the label's caption (line 2427) because it's expecting a date but is given a double.