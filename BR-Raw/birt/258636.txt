AssertionError when displaying simple Table-Report containing Aggregation Item deployed on BEA Weblogic 10.0

Created attachment 120298 Report File containing Aggregation Item Build ID: I20080617-2000 Steps To Reproduce: 1. Create new Report containing a table 2. Add an Aggregation Item to display total number of rows in the footer section 3. Preview in Birt Viewer works fine. 4. Deploy Report on BEA Weblogic 10.0: There you get an Assertion error. 5. Without aggregation item there is no problem at all. More information: 12.12.2008 11:37:53 org.eclipse.birt.report.engine.api.impl.RunTask doRun SCHWERWIEGEND: Error happened while running the report. java.lang.AssertionError 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpression(PreparedQuery.java:430) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpressions(PreparedQuery.java:375) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup(PreparedQuery.java:325) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:207) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.<init>(PreparedQuery.java:126) 	at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.<init>(PreparedDataSourceQuery.java:75) 	at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.<init>(PreparedOdaDSQuery.java:62) 	at org.eclipse.birt.data.engine.impl.PreparedQueryUtil.newInstance(PreparedQueryUtil.java:147) 	at org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare(DataEngineImpl.java:421) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:332) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:495) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.doPrepareQuery(AbstractDataEngine.java:203) 	at org.eclipse.birt.report.engine.data.dte.DataGenerationEngine.doPrepareQuery(DataGenerationEngine.java:73) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(AbstractDataEngine.java:167) 	at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:101) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.emitter.ReportEmitterExecutor.execute(ReportEmitterExecutor.java:76) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplciateReportExecutor.execute(SuppressDuplciateReportExecutor.java:51) 	at org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build(ReportDocumentBuilder.java:193) 	at org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:228) 	at org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:89) 	at org.eclipse.birt.report.service.ReportEngineService.runReport(ReportEngineService.java:1117) 	at org.eclipse.birt.report.service.BirtViewerReportService.runReport(BirtViewerReportService.java:146) 	at org.eclipse.birt.report.service.actionhandler.BirtRunReportActionHandler.__execute(BirtRunReportActionHandler.java:78) 	at org.eclipse.birt.report.service.actionhandler.BirtChangeParameterActionHandler.runReport(BirtChangeParameterActionHandler.java:57) 	at org.eclipse.birt.report.service.actionhandler.AbstractChangeParameterActionHandler.__execute(AbstractChangeParameterActionHandler.java:53) 	at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:89) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(AbstractBaseDocumentProcessor.java:47) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(AbstractBaseComponentProcessor.java:159) 	at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleChangeParameter(BirtDocumentProcessor.java:100) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process(AbstractBaseComponentProcessor.java:111) 	at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects(BirtSoapBindingImpl.java:66) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397) 	at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186) 	at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323) 	at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32) 	at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118) 	at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83) 	at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:454) 	at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281) 	at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost(BirtSoapMessageDispatcherServlet.java:225) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:112) 	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226) 	at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124) 	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:283) 	at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3368) 	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) 	at weblogic.security.service.SecurityManager.runAs(Unknown Source) 	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2117) 	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2023) 	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1359) 	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:200) 	at weblogic.work.ExecuteThread.run(ExecuteThread.java:172) 12.12.2008 11:37:53 org.eclipse.birt.report.engine.api.impl.RunTask doRun SCHWERWIEGEND: Error happened while running the report. java.lang.AssertionError 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpression(PreparedQuery.java:430) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpressions(PreparedQuery.java:375) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup(PreparedQuery.java:325) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:207) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.<init>(PreparedQuery.java:126) 	at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.<init>(PreparedDataSourceQuery.java:75) 	at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.<init>(PreparedOdaDSQuery.java:62) 	at org.eclipse.birt.data.engine.impl.PreparedQueryUtil.newInstance(PreparedQueryUtil.java:147) 	at org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare(DataEngineImpl.java:421) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:332) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:495) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.doPrepareQuery(AbstractDataEngine.java:203) 	at org.eclipse.birt.report.engine.data.dte.DataGenerationEngine.doPrepareQuery(DataGenerationEngine.java:73) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(AbstractDataEngine.java:167) 	at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:101) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.emitter.ReportEmitterExecutor.execute(ReportEmitterExecutor.java:76) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplciateReportExecutor.execute(SuppressDuplciateReportExecutor.java:51) 	at org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build(ReportDocumentBuilder.java:193) 	at org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:228) 	at org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:89) 	at org.eclipse.birt.report.service.ReportEngineService.runReport(ReportEngineService.java:1117) 	at org.eclipse.birt.report.service.BirtViewerReportService.runReport(BirtViewerReportService.java:146) 	at org.eclipse.birt.report.service.actionhandler.BirtRunReportActionHandler.__execute(BirtRunReportActionHandler.java:78) 	at org.eclipse.birt.report.service.actionhandler.BirtChangeParameterActionHandler.runReport(BirtChangeParameterActionHandler.java:57) 	at org.eclipse.birt.report.service.actionhandler.AbstractChangeParameterActionHandler.__execute(AbstractChangeParameterActionHandler.java:53) 	at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:89) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(AbstractBaseDocumentProcessor.java:47) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(AbstractBaseComponentProcessor.java:159) 	at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleChangeParameter(BirtDocumentProcessor.java:100) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process(AbstractBaseComponentProcessor.java:111) 	at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects(BirtSoapBindingImpl.java:66) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397) 	at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186) 	at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323) 	at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32) 	at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118) 	at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83) 	at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:454) 	at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281) 	at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost(BirtSoapMessageDispatcherServlet.java:225) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:112) 	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226) 	at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124) 	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:283) 	at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3368) 	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) 	at weblogic.security.service.SecurityManager.runAs(Unknown Source) 	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2117) 	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2023) 	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1359) 	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:200) 	at weblogic.work.ExecuteThread.run(ExecuteThread.java:172) 12.12.2008 11:37:53 org.eclipse.birt.report.engine.api.impl.RunTask doRun SCHWERWIEGEND: Error happened while running the report. java.lang.AssertionError 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpression(PreparedQuery.java:430) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpressions(PreparedQuery.java:375) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup(PreparedQuery.java:325) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:207) 	at org.eclipse.birt.data.engine.impl.PreparedQuery.<init>(PreparedQuery.java:126) 	at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.<init>(PreparedDataSourceQuery.java:75) 	at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.<init>(PreparedOdaDSQuery.java:62) 	at org.eclipse.birt.data.engine.impl.PreparedQueryUtil.newInstance(PreparedQueryUtil.java:147) 	at org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare(DataEngineImpl.java:421) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:332) 	at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.prepare(DataRequestSessionImpl.java:495) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.doPrepareQuery(AbstractDataEngine.java:203) 	at org.eclipse.birt.report.engine.data.dte.DataGenerationEngine.doPrepareQuery(DataGenerationEngine.java:73) 	at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(AbstractDataEngine.java:167) 	at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:101) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.emitter.ReportEmitterExecutor.execute(ReportEmitterExecutor.java:76) 	at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute(WrappedReportExecutor.java:59) 	at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplciateReportExecutor.execute(SuppressDuplciateReportExecutor.java:51) 	at org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build(ReportDocumentBuilder.java:193) 	at org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:228) 	at org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:89) 	at org.eclipse.birt.report.service.ReportEngineService.runReport(ReportEngineService.java:1117) 	at org.eclipse.birt.report.service.BirtViewerReportService.runReport(BirtViewerReportService.java:146) 	at org.eclipse.birt.report.service.actionhandler.BirtRunReportActionHandler.__execute(BirtRunReportActionHandler.java:78) 	at org.eclipse.birt.report.service.actionhandler.BirtChangeParameterActionHandler.runReport(BirtChangeParameterActionHandler.java:57) 	at org.eclipse.birt.report.service.actionhandler.AbstractChangeParameterActionHandler.__execute(AbstractChangeParameterActionHandler.java:53) 	at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(AbstractBaseActionHandler.java:89) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(AbstractBaseDocumentProcessor.java:47) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(AbstractBaseComponentProcessor.java:159) 	at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleChangeParameter(BirtDocumentProcessor.java:100) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process(AbstractBaseComponentProcessor.java:111) 	at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects(BirtSoapBindingImpl.java:66) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 	at java.lang.reflect.Method.invoke(Method.java:585) 	at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397) 	at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186) 	at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323) 	at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32) 	at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118) 	at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83) 	at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:454) 	at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281) 	at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost(BirtSoapMessageDispatcherServlet.java:225) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) 	at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 	at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:112) 	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226) 	at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124) 	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:283) 	at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68) 	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:42) 	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3368) 	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321) 	at weblogic.security.service.SecurityManager.runAs(Unknown Source) 	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2117) 	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2023) 	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1359) 	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:200) 	at weblogic.work.ExecuteThread.run(ExecuteThread.java:172)