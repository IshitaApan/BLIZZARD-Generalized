Displaying of dialogs slow when XML editors were opened

On Linux GTK/64bit, opening of the "Find" dialog (Ctrl+F) sometimes is very slow, i.e. multiple seconds, with delay increasing over time of running the same Eclipse process. When taking threaddumps meanwhile, the following shows up: "main" prio=10 tid=0x00007f6d78009800 nid=0x50e0 runnable [0x00007f6d7fab2000] java.lang.Thread.State: RUNNABLE at org.eclipse.swt.internal.gtk.OS._gdk_window_at_pointer(Native Method) at org.eclipse.swt.internal.gtk.OS.gdk_window_at_pointer(OS.java:5261) at org.eclipse.swt.widgets.Shell.setToolTipText(Shell.java:2421) at org.eclipse.swt.widgets.Shell.setToolTipText(Shell.java:2389) at org.eclipse.swt.widgets.ToolItem.setToolTipText(ToolItem.java:1193) at org.eclipse.swt.widgets.ToolItem.setToolTipText(ToolItem.java:1167) at org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:810) at org.eclipse.jface.action.ActionContributionItem$1.propertyChange(ActionContributionItem.java:113) at org.eclipse.jface.action.ExternalActionManager$CommandCallback.bindingManagerChanged(ExternalActionManager.java:281) at org.eclipse.jface.bindings.BindingManager.fireBindingManagerChanged(BindingManager.java:900) at org.eclipse.jface.bindings.BindingManager.setActiveBindings(BindingManager.java:2176) at org.eclipse.jface.bindings.BindingManager.recomputeBindings(BindingManager.java:1742) at org.eclipse.jface.bindings.BindingManager.contextManagerChanged(BindingManager.java:689) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerChanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds(ContextManager.java:295) at org.eclipse.e4.ui.internal.services.ContextContextService.getActiveContextIds(ContextContextService.java:83) at org.eclipse.ui.internal.contexts.ContextService.getActiveContextIds(ContextService.java:256) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.getCurrentState(ActiveContextSourceProvider.java:68) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.contextManagerChanged(ActiveContextSourceProvider.java:50) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerChanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds(ContextManager.java:295) at org.eclipse.e4.ui.bindings.internal.BindingServiceImpl.setContextIds(BindingServiceImpl.java:237) at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextInjectionListener.update(ContextObjectSupplier.java:88) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:107) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:332) at org.eclipse.e4.ui.internal.services.ContextContextService.activateContext(ContextContextService.java:53) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression$1.run(ContextService.java:128) at org.eclipse.e4.core.contexts.RunAndTrack.runExternalCode(RunAndTrack.java:53) - locked <0x00000000fcef5908> (a org.eclipse.ui.internal.contexts.ContextService$UpdateExpression) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression.changed(ContextService.java:126) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:332) at org.eclipse.e4.core.internal.contexts.EclipseContext.activate(EclipseContext.java:630) at org.eclipse.e4.ui.internal.workbench.swt.ShellActivationListener$2.run(ShellActivationListener.java:120) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.ShellActivationListener.activate(ShellActivationListener.java:117) at org.eclipse.e4.ui.internal.workbench.swt.ShellActivationListener.handleEvent(ShellActivationListener.java:73) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1483) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1275) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1300) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1281) at org.eclipse.swt.widgets.Shell.filterProc(Shell.java:731) at org.eclipse.swt.widgets.Display.filterProc(Display.java:1495) at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method) at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2332) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3177) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1029) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:923) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) This is similar to bug 384590 where performance of switching between editors is affected.